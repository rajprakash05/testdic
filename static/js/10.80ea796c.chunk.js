"use strict";(self.webpackChunkdiz=self.webpackChunkdiz||[]).push([[10],{20083:function(e,t,n){var i=n(72791);t.Z=function(e,t){(0,i.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}))}},82010:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var i=n(1413),a=n(42982),o=n(74165),s=n(15861),r=n(70885),l=n(72791),c=n(52797),d=n(9827),u=n(60807),f=n(24390),h=n(4565),m=n(94162),x=n(17205),p=n(60643),v=n(13811),g=n(69963),y=n(21680),Z=n(19773),j=n(75814),b=n(6747),w=n(18061),C=n(46997),k=n(34175),N=n(59434),A=n(91411),S=n(58901),I=n(72426),R=n.n(I),P=n(64558),O=n(27247),D=n(50194),M=n(58195),K=n(77248),H=n(80184),B={"& .MuiDialog-container":{alignItems:"center"},"& .MuiPaper-root":{width:"400px",minHeight:"160px",padding:"24px 16px 16px 16px",borderRadius:"4px"}};function L(e){var t=e.open,n=e.enterpriseUser,i=e.payload,a=e.onHandleDeleteClose,r=e.type,l=(0,N.I0)(),c=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var t,s,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l((0,A.K4)(!0)),t={enterpriseId:null===n||void 0===n?void 0:n.enterpriseId,integrationId:null===i||void 0===i?void 0:i.integrationId},"delete"!==r){e.next=8;break}return e.next=5,k.R.delete("/integration/".concat(null===n||void 0===n?void 0:n.enterpriseId,"/").concat(null===i||void 0===i?void 0:i.integrationId),t);case 5:s=e.sent,e.next=11;break;case 8:return e.next=10,k.R.put("/integration/".concat(null===n||void 0===n?void 0:n.enterpriseId,"/deactivate/").concat(null===i||void 0===i?void 0:i.integrationId),{},t);case 10:s=e.sent;case 11:s.ok?(l((0,A.K4)(!1)),"success"===(c=s.data).status?a(!1,r):(0,S.k)(c.message,2e3,"error")):(l((0,A.K4)(!1)),(0,S.k)("Something Went Wrong!",2e3,"error"));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,H.jsxs)(M.Z,{sx:B,open:t,onClose:function(e,t){t&&"backdropClick"===t||a(!0,r)},className:"AddUserContainer",children:[(0,H.jsx)(m.Z,{direction:"row",children:(0,H.jsxs)(m.Z,{style:{width:"100%"},children:[(0,H.jsxs)(h.Z,{style:{color:b.O.dangerDark,marginBottom:"12px"},className:"ff-Roboto fw-semibold wordBreak",children:["delete"===r?"Delete":"Deactivate"," API KEY"]}),(0,H.jsxs)(h.Z,{style:{color:b.O.blackMain},className:"ff-Roboto fw-regular fs-12 wordBreak",children:["Are you sure you want to permanently ","delete"===r?"delete":"deactivate"," your api-key ? This is not a reversible action."]})]})}),(0,H.jsxs)(K.Z,{style:{height:"66px",padding:"0",marginTop:"20px",width:"100%"},children:[(0,H.jsx)(x.Z,{sx:C.nR,style:{width:"128px"},variant:"outlined",onClick:function(){return a(!0,r)},children:"Cancel"}),(0,H.jsx)(x.Z,{sx:C.A9,style:{width:"136px",marginLeft:"24px",background:"#C71212"},onClick:c,variant:"contained",children:"delete"===r?"Delete":"Deactivate"})]})]})}var T=n(17198),E=n(5130),z=n(81724),F=n(55705),U=z.Ry({label:z.Z_("Enter your Label").required("Label is Required").max(50,"Name must maximum of 50 characters").trim()});function V(e){var t=e.open,n=e.onHandleAddClose,a=e.enterpriseUser,c=(0,N.I0)(),d=(0,l.useState)({label:""}),u=(0,r.Z)(d,2),f=u[0],p=u[1],g=(0,F.TA)({enableReinitialize:!0,initialValues:f,validationSchema:U,validateOnBlur:!0,validateOnChange:!0,onSubmit:function(e){O(e)}}),y=g.handleSubmit,Z=g.values,j=g.handleChange,w=g.handleBlur,I=g.isValid,R=g.dirty,P=g.resetForm,O=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n,i,s,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((0,A.K4)(!0)),n={enterpriseId:a.enterpriseId},i={label:t.label,createdBy:null===a||void 0===a?void 0:a.name},e.next=5,k.R.post("/integration/".concat(a.enterpriseId),i,n);case 5:(s=e.sent).ok?(c((0,A.K4)(!1)),"success"===(r=s.data).status?(D(!1),P()):(0,S.k)(r.message,2e3,"error")):(c((0,A.K4)(!1)),(0,S.k)("Something Went Wrong!",2e3,"error"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){p({label:""}),Z.label="",P(),n(e)};return(0,H.jsxs)(M.Z,{sx:{"& .MuiDialog-container":{alignItems:"center"},"& .MuiPaper-root":{width:"400px",minHeight:"160px",padding:"16px",borderRadius:"4px"}},open:t,onClose:function(e,t){t&&"backdropClick"===t||D(!0)},className:"AddUserContainer",children:[(0,H.jsxs)(m.Z,{style:{paddingBottom:"10px",marginBottom:"16px",position:"sticky",top:"0",zIndex:"99",background:"#FFF"},direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,H.jsx)("div",{className:"flex",children:(0,H.jsx)(h.Z,{style:{color:b.O.blackMain},className:"fw-bold fs-14 ff-Roboto",children:"CREATE API KEY"})}),(0,H.jsx)("div",{children:(0,H.jsx)(v.Z,{style:{padding:"0"},onClick:function(){return D(!0)},children:(0,H.jsx)(E.Z,{style:{color:b.O.blackMain,transform:"scale(1.143)"}})})})]}),(0,H.jsx)("form",{onSubmit:y,className:"editContainer",children:(0,H.jsxs)(m.Z,{children:[(0,H.jsxs)(m.Z,{children:[(0,H.jsx)(h.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:b.O.blackMain,children:"Label"}),(0,H.jsx)(T.Z,{fullWidth:!0,id:"label",name:"label",value:Z.label,onChange:j,onBlur:w,onKeyPress:function(e){13===e.which&&e.preventDefault()},autoComplete:"off"})]}),(0,H.jsx)(x.Z,{sx:(0,i.Z)((0,i.Z)({},C.mK),{},{width:"100%",marginTop:"36px"}),disabled:!(R&&I),type:"submit",variant:"contained",children:"Done"})]})})]})}var W=n.p+"static/media/integrationLock.ee35f58ac6927d025a3bb76cc680f9a7.svg",q=n(96015),Y=n(95452),G=n(24020),_=n(52898);function J(e){var t=e.payload,n=e.onClickCopy,i=e.onHandleAction,a=(0,l.useState)(!1),o=(0,r.Z)(a,2),s=o[0],c=o[1],d=Boolean(s),u=function(e){e.stopPropagation(),c(null)},f=function(e,t,n){u(e),e.stopPropagation(),i(t,n)};return(0,H.jsxs)(q.Z,{className:"integrationCard",children:[(0,H.jsxs)(m.Z,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",children:[(0,H.jsxs)(m.Z,{style:{width:"91%"},children:[(0,H.jsx)(h.Z,{className:"fs-12 ff-Roboto fw-medium",style:{color:"0"===(null===t||void 0===t?void 0:t.isActiveStatus)?"#AAA":b.O.primaryHover,marginBottom:"4px"},children:null===t||void 0===t?void 0:t.label}),(0,H.jsx)(h.Z,{className:"ellipseStyle fs-14 ff-Roboto fw-regular",style:{color:"0"===(null===t||void 0===t?void 0:t.isActiveStatus)?"#AAA":"#000",width:"99%"},children:t.isClicked?(0,H.jsx)(H.Fragment,{children:t.apiKey}):(0,H.jsx)(H.Fragment,{children:"*****************************************"})})]}),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(v.Z,{id:"resource-button",onClick:function(e){e.stopPropagation(),c(e.currentTarget)},"aria-controls":d?"resource-menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0,style:{padding:"0"},children:(0,H.jsx)(_.Z,{style:{color:"#A4AFB9"}})}),(0,H.jsxs)(Y.Z,{PaperProps:{sx:{width:"128px","& .MuiList-root":{padding:"0"}}},className:"appbar",id:"resource-menu",anchorEl:s,open:d,MenuListProps:{"aria-labelledby":"resource-button"},onClose:u,children:[(0,H.jsx)(G.Z,{onClick:function(e){return f(e,t,"delete")},className:"ff-Roboto fs-12",onClose:u,children:(0,H.jsxs)(m.Z,{direction:"row",alignItems:"center",children:[(0,H.jsx)(O.Z,{style:{color:b.O.blackMain,transform:"scale(0.8888)"}}),(0,H.jsx)(h.Z,{className:"ff-roboto fs-12 fw-semibold",style:{paddingLeft:"16px"},children:"Delete"})]})}),(0,H.jsx)(G.Z,{disabled:"0"===(null===t||void 0===t?void 0:t.isActiveStatus),onClick:function(e){return f(e,t,"deactivate")},className:"ff-Roboto fs-12",onClose:u,children:(0,H.jsxs)(m.Z,{direction:"row",alignItems:"center",children:[(0,H.jsx)(P.Z,{style:{color:b.O.blackMain,transform:"scale(0.7276)"}}),(0,H.jsx)(h.Z,{className:"ff-roboto fs-12 fw-semibold",style:{paddingLeft:"16px"},children:"Deactivate"})]})})]})]})]}),(0,H.jsxs)(m.Z,{style:{marginTop:"23px"},direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,H.jsx)(m.Z,{style:{width:"91%"},children:(0,H.jsx)(h.Z,{className:"fs-12 ff-Roboto fw-regular",style:{color:"0"===(null===t||void 0===t?void 0:t.isActiveStatus)?"#AAA":"#000"},children:R()(t.createdAt).format("DD MMM, yyyy")})}),"0"===(null===t||void 0===t?void 0:t.isActiveStatus)?"":(0,H.jsx)(v.Z,{onClick:function(e){return n(e,t)},style:{padding:"0"},children:(0,H.jsx)(D.Z,{style:{transform:"scale(0.7276)"}})})]})]})}var Q=n(42419),X=n(20083),$=[{name:"Label",width:"calc(100% - 76.875%)"},{name:"API Key",width:"calc(100% - 62.5%)"},{name:"Last Accessed",width:"calc(100% - 78.125%)"},{name:"Action",width:"calc(100% - 86.875%)"}];function ee(){var e=(0,l.useState)(null),t=(0,r.Z)(e,2),n=t[0],S=t[1],I=(0,l.useState)(0),M=(0,r.Z)(I,2),K=M[0],B=M[1],T=(0,l.useState)(1),z=(0,r.Z)(T,2),F=z[0],U=z[1],q=(0,l.useState)(10),Y=(0,r.Z)(q,2),G=Y[0],_=Y[1],ee=(0,l.useState)(null),te=(0,r.Z)(ee,2),ne=te[0],ie=te[1],ae=(0,l.useState)(!1),oe=(0,r.Z)(ae,2),se=oe[0],re=oe[1],le=(0,l.useState)(null),ce=(0,r.Z)(le,2),de=ce[0],ue=ce[1],fe=(0,l.useState)(null),he=(0,r.Z)(fe,2),me=he[0],xe=he[1],pe=(0,l.useState)(!1),ve=(0,r.Z)(pe,2),ge=ve[0],ye=ve[1],Ze=(0,l.useState)(!1),je=(0,r.Z)(Ze,2),be=je[0],we=je[1],Ce=(0,c.Z)("(max-width:1000px)"),ke=(0,l.useRef)();(0,X.Z)(ke,(function(){return Ce&&we(!1)}));var Ne=(0,N.v9)((function(e){return e.auth})).user,Ae=(0,N.I0)(),Se=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var t,n,i,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ae((0,A.K4)(!0)),e.next=3,k.R.get("/integration/".concat(Ne.enterpriseId),{page:F,limit:G});case 3:(t=e.sent).ok?("success"===(n=t.data).status?((s=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.keys).map((function(e,t){e.Sno=G*K+t+1,e.isClicked=!1})),S(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.length),ie(s)):(ie([]),S(0)),Ae((0,A.K4)(!1))):Ae((0,A.K4)(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){Se()}),[K,G,F]);var Ie=function(){return(0,H.jsx)(d.Z,{className:"mainUserTableHead",children:(0,H.jsxs)(u.Z,{sx:{"& th":{backgroundColor:b.O.secondary}},children:[(0,H.jsx)(f.Z,{style:{width:"calc(4.375%)",textAlign:"center",color:b.O.primaryDark},children:"#"}),null===$||void 0===$?void 0:$.map((function(e,t){return(0,H.jsx)(f.Z,{style:{width:e.width},children:(0,H.jsx)(h.Z,{className:"ff-Roboto fs-12 fw-medium",style:{color:b.O.primaryDark},children:e.name})},t)}))]})})},Re=function(e,t){U(t+1),B(t)},Pe=function(e){_(parseInt(e.target.value,10)),U(1),B(0)},Oe=function(e,t){e.stopPropagation(),navigator.clipboard.writeText(t)},De=function(e,t){re(!0),ue(t),xe(e)},Me=function(e,t){"delete"===t&&(re(!1),!0!==e&&(0===K&&1===F?Se():1===ne.length?(B(0===K?0:K-1),U(1===F?1:F-1)):Se(),xe(null))),"deactivate"===t&&(re(!1),!0!==e&&(Se(),xe(null))),"add"===t&&(ye(!1),!0!==e&&(Se(),xe(null)))},Ke=function(e,t){e.stopPropagation(),ye(t)};return(0,H.jsxs)("div",{className:"IntegrationContainer inputFormStyle innerPadding",children:[(0,H.jsx)("header",{className:Ce&&"headerMobile",style:{marginBottom:"8px"},children:(0,H.jsxs)(m.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,H.jsx)(h.Z,{className:"ff-Roboto fw-medium text-upper",style:{color:b.O.blackMain},children:"INTEGRATIONS"}),(0,H.jsxs)("div",{className:"flex-aligncenter",children:[n<=0?"":(0,H.jsx)(x.Z,{onClick:function(e){return Ke(e,!0)},className:"mobileviewStyle",sx:C.ts,variant:"contained",children:"Create API Key"}),(0,H.jsx)(x.Z,{className:"mobileviewStyle",sx:C.ts,variant:"contained",children:"Integration docs"}),Ce?null:(0,H.jsx)(p.Z,{rowsPerPageOptions:[],count:n||1,rowsPerPage:G||10,page:K||0,onPageChange:Re,onRowsPerPageChange:Pe,ActionsComponent:w.Z})]})]})}),Ce?(0,H.jsxs)("div",{style:{marginBottom:"250px"},children:[(null===ne||void 0===ne?void 0:ne.length)<=0&&(0,H.jsx)("div",{className:"createApiKeyNoData",children:(0,H.jsx)("div",{className:"innerNoData",children:(0,H.jsx)("img",{alt:"",src:W})})}),ne&&ne.map((function(e,t){return(0,H.jsx)("div",{onClick:function(){return function(e){e.isClicked=!0!==e.isClicked;var t=(0,a.Z)(ne);t.forEach((function(t){t.integrationId===e.integrationId?t.isClicked=e.isClicked:t.isClicked=!1})),ie(t)}(e)},children:(0,H.jsx)(J,{payload:e,onClickCopy:function(e,t){return Oe(e,t.apiKey)},onHandleAction:function(e,t){return De(e,t)}})},t)})),(null===ne||void 0===ne?void 0:ne.length)>0&&(0,H.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:(0,H.jsx)(p.Z,{rowsPerPageOptions:[],count:n||0,rowsPerPage:G||5,page:K||0,onPageChange:Re,onRowsPerPageChange:Pe,ActionsComponent:w.Z})}),(0,H.jsxs)("div",{className:"bottomAction",ref:ke,children:[be&&(0,H.jsxs)(m.Z,{children:[(0,H.jsx)(x.Z,{className:"fs-16 fw-medium ff-Roboto btnStyle",style:{background:b.O.header,color:b.O.blackMain},children:"Integration Docs"}),(0,H.jsx)(x.Z,{onClick:function(e){return Ke(e,!0)},className:"fs-16 fw-medium ff-Roboto btnStyle",style:{background:b.O.buttonColor,color:b.O.white},children:"Create API Key"})]}),(0,H.jsx)(v.Z,{onClick:function(e){return function(e){e.stopPropagation(),we(!be)}(e)},className:"mobileaddstyle",children:be?(0,H.jsx)(E.Z,{style:{color:b.O.white}}):(0,H.jsx)(Q.Z,{style:{color:b.O.white}})})]})]}):(0,H.jsxs)("div",{className:"tableContainer",children:[(0,H.jsx)(g.Z,{sx:{maxHeight:"calc(100vh - 128px)"},children:(0,H.jsxs)(y.Z,{style:{tableLayout:"fixed"},stickyHeader:!0,"aria-label":"sticky table",sx:{width:"100%"},children:[(0,H.jsx)(Ie,{}),(0,H.jsx)(Z.Z,{className:"mainUserBodyTable",children:ne&&ne.map((function(e,t){return(0,H.jsxs)(u.Z,{className:"0"===(null===e||void 0===e?void 0:e.isActiveStatus)?"":"tableRowHover",style:{color:"0"===(null===e||void 0===e?void 0:e.isActiveStatus)?"#AAA":"#000"},children:[(0,H.jsx)(f.Z,{align:"center",className:"color-inherit",style:{width:"calc(4.375%)"},children:(0,H.jsx)(h.Z,{className:"ff-Roboto fs-12 fw-regular",children:e.Sno})}),(0,H.jsx)(f.Z,{className:"color-inherit",style:{width:"calc(100% - 76.875%)"},children:(0,H.jsx)(h.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle",children:e.label})}),(0,H.jsxs)(f.Z,{className:"hoverCell color-inherit",style:{width:"calc(100% - 62.5%)"},children:[(0,H.jsx)(m.Z,{direction:"row",alignItems:"center",className:"showonHover",children:"0"===(null===e||void 0===e?void 0:e.isActiveStatus)?(0,H.jsx)(h.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle",children:"*************************************************"}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(h.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle",style:{width:"80%"},children:e.apiKey}),(0,H.jsx)(v.Z,{onClick:function(t){return Oe(t,e.apiKey)},children:(0,H.jsx)(D.Z,{style:{transform:"scale(0.7276)"}})})]})}),(0,H.jsx)(h.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle hideonHover",children:"*************************************************"})]}),(0,H.jsx)(f.Z,{className:"color-inherit",style:{width:"calc(100% - 78.125%)"},children:(0,H.jsx)(h.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle",children:R()(e.createdAt).format("DD MMM, yyyy")})}),(0,H.jsxs)(f.Z,{style:{width:"calc(100% - 86.875%)"},children:[(0,H.jsx)(j.Z,{title:"0"===(null===e||void 0===e?void 0:e.isActiveStatus)?"":"Deactivate",arrow:!0,placement:"top",disableInteractive:!0,componentsProps:{tooltip:{sx:{fontSize:"12px",fontFamily:"Roboto",fontWeight:"500",bgcolor:b.O.dangerLight,color:b.O.danger,borderRadius:"20px","& .MuiTooltip-arrow":{color:b.O.dangerLight}}}},children:(0,H.jsx)(v.Z,{disabled:"0"===(null===e||void 0===e?void 0:e.isActiveStatus),style:{opacity:"0"===(null===e||void 0===e?void 0:e.isActiveStatus)?"0.5":"1"},onClick:function(){return De(e,"deactivate")},className:"hoverBlock",children:(0,H.jsx)(P.Z,{style:{color:b.O.secondarymain,transform:"scale(0.8)"}})})}),(0,H.jsx)(j.Z,{title:"Delete",children:(0,H.jsx)(v.Z,{onClick:function(){return De(e,"delete")},className:"hoverIconButton",children:(0,H.jsx)(O.Z,{style:{color:b.O.primaryHover,transform:"scale(0.8888)"}})})})]})]},t)}))})]})}),(null===ne||void 0===ne?void 0:ne.length)<=0&&(0,H.jsx)("div",{className:"createApiKeyNoData",children:(0,H.jsxs)("div",{className:"innerNoData",children:[(0,H.jsx)("img",{alt:"",src:W}),(0,H.jsx)(x.Z,{onClick:function(e){return Ke(e,!0)},className:"mobileviewStyle",sx:(0,i.Z)((0,i.Z)({},C.ts),{},{width:"100%",bottom:"-7%",position:"absolute",marginRight:"0"}),variant:"contained",children:"Create API Key"})]})})]}),(0,H.jsx)(V,{open:ge,enterpriseUser:Ne,onHandleAddClose:function(e){return Me(e,"add")}}),(0,H.jsx)(L,{open:se,enterpriseUser:Ne,payload:me,type:de,onHandleDeleteClose:function(e,t){return Me(e,t)}})]})}},64558:function(e,t,n){var i=n(64836);t.Z=void 0;var a=i(n(45649)),o=n(80184),s=(0,a.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");t.Z=s},50194:function(e,t,n){var i=n(64836);t.Z=void 0;var a=i(n(45649)),o=n(80184),s=(0,a.default)((0,o.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");t.Z=s}}]);
//# sourceMappingURL=10.80ea796c.chunk.js.map