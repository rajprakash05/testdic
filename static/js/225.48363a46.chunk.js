"use strict";(self.webpackChunkdiz=self.webpackChunkdiz||[]).push([[225],{74960:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(1413),a=n(74165),r=n(15861),o=n(70885),s=n(72791),c=n(57831),l=n(69596),d=n(13811),u=n(94162),m=n(4565),p=n(5130),f=n(6747),h=n(80184);function x(e){var t=e.handleFile,n=e.id,x=e.name,g=e.url,v=e.helpText,Z=void 0===v||v,b=(0,s.useState)(""),y=(0,o.Z)(b,2),j=y[0],w=y[1],C=(0,s.useState)(null),k=(0,o.Z)(C,2),S=k[0],N=k[1],I=(0,s.useState)(null),R=(0,o.Z)(I,2),D=R[0],P=R[1],T=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n[0].size>1e6)){e.next=6;break}return t(!0,null),w("File size should be less than or equal to 1MB"),N(null),P(null),e.abrupt("return");case 6:(i=new Image).src=URL.createObjectURL(n[0]),i.addEventListener("load",(function(){if(i.width<=300&&i.height<=300){console.log("yeah size and dimension"),t(n[0]),N(n[0]);var e=URL.createObjectURL(n[0]);P(e),w(!1)}else t(!0,null),w("Image dimensions should be 300 x 300 "),N(null),P(null)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=(0,c.uI)({accept:{"image/*":[".jpeg",".png"]},onDrop:T,maxFiles:1}),M=B.getRootProps,O=B.getInputProps,E=B.isDragActive,A=B.isDragReject;return(0,h.jsxs)("div",{className:"drop-zone-container flex-center",style:{border:E?"1px solid #106AA5":"",flexDirection:"column"},children:[!Boolean(j)&&(S||g)&&(0,h.jsx)(d.Z,{className:"cancelButton",onClick:function(){t(null),P(null),w(!1),N(null)},children:(0,h.jsx)(p.Z,{style:{transform:"scale(1.143)",color:"rgb(6, 29, 48)"}})}),!Boolean(j)&&!(S||g)&&(0,h.jsx)("div",(0,i.Z)((0,i.Z)({className:"dropZone"},M({className:"dropzone"})),{},{children:(0,h.jsxs)(u.Z,{justifyContent:"center",alignItems:"center",className:"imgContainer",children:[(0,h.jsx)("input",(0,i.Z)({id:n,name:x},O())),(0,h.jsx)("div",{style:{height:"64px",width:"96px"},className:"flex-center",children:(0,h.jsx)(l.Z,{style:{color:"rgb(178,215,135)",transform:"scale(4)",height:"100%"}})}),A?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(m.Z,{className:"fs-14 ff-Roboto fw-medium",color:f.O.blackMain,children:"Images only supported"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.Z,{className:"fs-14 ff-Roboto fw-medium",color:f.O.blackMain,children:"Drop File Here"}),Z&&(0,h.jsx)(m.Z,{className:"fs-12 ff-Roboto fw-light mt-6",color:f.O.blackMain,children:"File dimensions should be 300x300 upto 1 MN"})]})]})})),Boolean(j)&&!(S||g)&&(0,h.jsx)("div",(0,i.Z)((0,i.Z)({className:"dropZone"},M({className:"dropzone"})),{},{children:(0,h.jsxs)(u.Z,{justifyContent:"center",alignItems:"center",className:"imgContainer",children:[(0,h.jsx)("input",(0,i.Z)({id:n,name:x},O())),(0,h.jsx)("div",{style:{height:"64px",width:"96px"},className:"flex-center",children:(0,h.jsx)(l.Z,{style:{color:"rgb(178,215,135)",transform:"scale(4)",height:"100%"}})}),(0,h.jsx)(m.Z,{className:"fs-12 ff-Roboto fw-light mt-6",color:f.O.blackMain,children:"File dimensions should be 300x300 upto 1 MN"}),(0,h.jsx)(m.Z,{className:"fs-10 ff-Roboto fw-regular",color:f.O.dangerDark,children:j})]})})),!Boolean(j)&&(S||g)&&(0,h.jsxs)("div",{style:{width:"300px"},children:[(0,h.jsx)("img",{alt:"",src:D||g,style:{width:"270px",height:"100px",objectFit:"contain"}}),(0,h.jsx)(m.Z,{style:{textAlign:"center"},className:"fs-14 ff-Roboto fw-medium ellipseStyle",color:f.O.blackMain,children:(null===S||void 0===S?void 0:S.name)||""})]})]})}},77981:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(1413),a=n(70885),r=n(45987),o=n(72791),s=n(94162),c=n(17198),l=n(55705),d=n(18623),u=n(80184),m=["name","label","sx","children","emptyCheck"];function p(e){var t=e.name,n=e.label,p=e.sx,f=e.children,h=e.emptyCheck,x=void 0!==h&&h,g=(0,r.Z)(e,m),v=(0,o.useState)(!0),Z=(0,a.Z)(v,2),b=Z[0],y=Z[1],j=(0,l.u6)(),w=j.values,C=j.touched,k=j.errors,S=j.handleChange,N=j.handleBlur,I=j.dirty;return(0,u.jsxs)(s.Z,{sx:(0,i.Z)({mb:"22px"},p),children:[(0,u.jsx)(d.Z,{label:n}),(0,u.jsx)(c.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,autoComplete:"off",id:t,name:t,value:w[t]||"",onChange:function(e){S(e),y(!1)},onBlur:function(e){N(e),y(!0)},error:b&&Boolean(w[t]||x)&&C[t]&&Boolean(k[t]),helperText:b&&Boolean(w[t]||x)&&(C[t]||I[t])&&k[t]},g),{},{children:f}))]})}},18623:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(4565),a=n(6747),r=n(80184);function o(e){var t=e.label;return(0,r.jsx)(i.Z,{style:{color:a.O.blackMain},className:"fs-14 ff-Roboto fw-medium mb-7",children:t})}},32572:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(70885),a=n(72791);var r=n(17584),o=n(80184);function s(e,t){0!==Math.abs(t.deltaX)||Math.abs(t.deltaY)<15?t.stopPropagation():t.deltaY<0?e.scrollNext():t.deltaY>0&&e.scrollPrev()}function c(e){var t=e.children,n=function(){var e=a.useState(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],o=a.useState(!1),s=(0,i.Z)(o,2),c=s[0],l=s[1],d=a.useRef(0);return{dragStart:a.useCallback((function(e){d.current=e.clientX,r(!0)}),[]),dragStop:a.useCallback((function(){return window.requestAnimationFrame((function(){l(!1),r(!1)}))}),[]),dragMove:function(e,t){var i=d.current-e.clientX,a=Math.abs(i)>5;n&&a&&l(!0),c&&a&&(d.current=e.clientX,t(i))},dragging:c,position:d,setDragging:l}}(),c=n.dragStart,l=n.dragStop,d=n.dragMove;return(0,o.jsx)("div",{onMouseLeave:l,children:(0,o.jsx)(r.ScrollMenu,{onWheel:s,onMouseDown:function(){return c},onMouseUp:function(){return l},onMouseMove:function(e){var t=e.scrollContainer;return function(e){return d(e,(function(e){t.current&&(t.current.scrollLeft+=e)}))}},children:t})})}},18061:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(70885),a=n(72791),r=n(12715),o=n(41133),s=n(5397),c=n(10111),l=n(74142),d=n(96015),u=n(17198),m=n(24020),p=n(13811),f=n(80184);function h(e){var t=(0,l.Z)(),n=e.count,h=e.page,x=e.rowsPerPage,g=e.onPageChange,v=(0,a.useState)([]),Z=(0,i.Z)(v,2),b=Z[0],y=Z[1];(0,a.useEffect)((function(){for(var e=Math.ceil(n/x),t=[],i=1;i<=e;i++)t.push(i);y(t)}),[n,x]);return(0,f.jsxs)(d.Z,{className:"tablepagination",sx:{flexShrink:0,ml:2.5},children:[(0,f.jsx)("div",{className:"textFieldSelect",children:(0,f.jsx)(u.Z,{id:"pageSelect",name:"pageSelect",value:(null===b||void 0===b?void 0:b.length)>0?h+1:"",onChange:function(e){g(e,e.target.value-1)},select:!0,children:b&&b.map((function(e){return(0,f.jsxs)(m.Z,{value:e,children:[" ",e," "]},e)}))})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,0)},disabled:0===h,"aria-label":"first page",children:"rtl"===t.direction?(0,f.jsx)(c.Z,{}):(0,f.jsx)(r.Z,{})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,h-1)},disabled:0===h,"aria-label":"previous page",children:"rtl"===t.direction?(0,f.jsx)(s.Z,{}):(0,f.jsx)(o.Z,{})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,h+1)},disabled:h>=Math.ceil(n/x)-1,"aria-label":"next page",children:"rtl"===t.direction?(0,f.jsx)(o.Z,{}):(0,f.jsx)(s.Z,{})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,Math.max(0,Math.ceil(n/x)-1))},disabled:h>=Math.ceil(n/x)-1,"aria-label":"last page",children:"rtl"===t.direction?(0,f.jsx)(r.Z,{}):(0,f.jsx)(c.Z,{})})]})}},59225:function(e,t,n){n.r(t),n.d(t,{default:function(){return Oe}});var i=n(1413),a=n(74165),r=n(15861),o=n(70885),s=n(52797),c=n(94162),l=n(4565),d=n(95452),u=n(24020),m=n(60643),p=n(59434),f=n(72791),h=n(77194),x=n(86616),g=n(26584),v=n(6747),Z=n(48928),b=n(17205),y=n(46997);var j=n.p+"static/media/refuse.1de07ffdbf2d93e2fa866030a262f105.svg";var w=n.p+"static/media/recycle.97a48be9800a434ca4410dd41ffdfdd4.svg";var C=n.p+"static/media/reuse.b7c6ed53278a5cfa4d46be2405713904.svg";var k=n.p+"static/media/eco-template-bg.ea837e24f5302c367a639a8ed1643c68.svg",S=n(80184);function N(e){var t=e.template,n=e.actNow,a=(e.itemId,(0,s.Z)("(max-width:600px)")),r="reuse"===(null===t||void 0===t?void 0:t.categoryType)?C:"recycle"===(null===t||void 0===t?void 0:t.categoryType)?w:j;return(0,S.jsxs)(Z.Z,{variant:"outlined",className:"ecoTemplateCard flex-column",sx:{width:a?"unset":272},style:a?{height:"152px",marginBottom:14,marginRight:0}:{marginBottom:14},children:[(0,S.jsx)(c.Z,{direction:"row",children:(0,S.jsx)(l.Z,{className:"ff-Roboto",style:{color:v.O.deactive},children:null===t||void 0===t?void 0:t.title})}),(0,S.jsx)(c.Z,{direction:"row",flex:1,alignItems:"flex-end",justifyContent:"flex-end",children:(0,S.jsx)(b.Z,{onClick:n,"aria-label":"act-now",variant:"contained",className:"fw-medium",sx:(0,i.Z)((0,i.Z)({},y.mK),{},{width:88,height:32,fontSize:10,zIndex:1}),children:"Act Now"})}),(0,S.jsx)("img",{className:"categoryImg",src:r,alt:"categoryImg"}),(0,S.jsx)("img",{className:"eco-template-bg",src:k,alt:"bg"})]})}var I=n(58195),R=n(40464),D=n(8440),P=n(39571),T=n(77248);function B(e){var t,n,i,a=e.open,r=e.handleClose,o=e.type,s="success";"draft"===o&&(t="Do you want to start editing?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="EDIT"),"scheduled"===o&&(s="warn",t="Do you want to cancel Campagin?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="STOP"),"delete"===o&&(s="warn",t="Do you want to delete Campagin?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="DELETE"),"running"===o&&(s="warn",t="Do you want to pause campaign?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="PAUSE"),"paused"===o&&(t="Do you want to restart the campign?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="START");var c="warn"===s?"#C71212":"#8AC865";return(0,S.jsxs)(I.Z,{open:a,onClose:function(){return r(!1)},maxWidth:"xs","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,S.jsx)(R.Z,{style:{color:"warn"===s?v.O.dangerDark:v.O.blackMain},className:"ff-Roboto fs-16 fw-medium",id:"alert-dialog-title",children:t}),(0,S.jsx)(D.Z,{children:(0,S.jsx)(P.Z,{id:"alert-dialog-description",style:{color:v.O.blackMain},className:"ff-Roboto fs-12 fw-regular",children:n})}),(0,S.jsxs)(T.Z,{children:[(0,S.jsx)(b.Z,{className:"ff-Roboto fs-14 fw-medium cancelBtn",variant:"outlined",onClick:function(){return r(!1)},children:"CANCEL"}),(0,S.jsx)(b.Z,{onClick:function(){return r(!0)},className:"ff-Roboto fs-14 fw-medium successBtn",variant:"contained",style:{backgroundColor:c},children:i})]})]})}var M=n(18061),O=n(84405),E=["TEMPLATES","CAMPAIGNS"];function A(e){var t=e.onTabChange,n=(0,f.useState)(0),i=(0,o.Z)(n,2),a=i[0],r=i[1];return(0,f.useEffect)((function(){t&&t(a)}),[a]),(0,S.jsx)("div",{className:"eco-mobile-footer-container",children:(0,S.jsxs)(O.Z,{direction:"row",sx:{height:"100%",position:"relative"},children:[E.map((function(e,t){return(0,S.jsx)(O.Z,{flex:1,alignItems:"center",justifyContent:"center",className:"diZ-tab ".concat(t===a&&"activeTab"),onClick:function(){return function(e){e!==a&&r(e)}(t)},children:(0,S.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium",children:e})},t)})),(0,S.jsx)("div",{className:"glider",style:{transform:"translateX(".concat(100*a,"%)")}})]})})}var L=n(9827),z=n(60807),K=n(24390),F=n(69963),q=n(21680),W=n(19773),U=n(13811),Y=n(72426),_=n.n(Y),H=n(69212),V=n(50194),X=n(32980),G=n(74169);function $(e){var t=e.campaign;return t.brandName?(0,S.jsxs)(c.Z,{direction:"row",style:{height:"100%"},className:"row-hover",children:[(0,S.jsx)(c.Z,{justifyContent:"center",children:(0,S.jsx)("img",{className:"brandImg",src:G.Z.s3Path+(null===t||void 0===t?void 0:t.brandLogo),alt:"brandImg"})}),(0,S.jsxs)(c.Z,{justifyContent:"center",children:[(0,S.jsx)(l.Z,{style:{color:v.O.deactive},className:"ff-Roboto fw-medium fs-14 capitalize",children:null===t||void 0===t?void 0:t.brandName}),(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",children:[(0,S.jsx)(X.Z,{style:{color:v.O.primaryHover,marginRight:"14px"},fontSize:"10px"}),(0,S.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle capitalize",children:null===t||void 0===t?void 0:t.subBrandName})]})]})]}):(0,S.jsx)(c.Z,{direction:"row",style:{height:"100%"},alignItems:"center",className:"row-hover",children:(0,S.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle",children:"-"})})}var J=n(42982),Q=n(72900),ee=n(45473),te=n(52898);function ne(e){var t=e.menuList,n=e.onApply,i=(0,f.useRef)(null),a=(0,f.useState)(!1),r=(0,o.Z)(a,2),s=r[0],l=r[1],m=(0,f.useState)([]),p=(0,o.Z)(m,2),h=p[0],x=p[1];(0,f.useEffect)((function(){var e=(0,J.Z)(t);x((0,J.Z)(e))}),[t]);var g=function(){l(!1)},Z=h.filter((function(e){return e.selected})).length;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(U.Z,{ref:i,style:{color:v.O.primaryDark},"aria-controls":s?"table-column-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0,id:"table-column-button",onClick:function(){l(!0)},children:(0,S.jsx)(te.Z,{})}),(0,S.jsxs)(d.Z,{className:"pereferenceMenu",id:"table-column-menu",anchorEl:i.current,open:s,MenuListProps:{"aria-labelledby":"table-column-button"},onClose:g,PopperProps:{placement:"bottom-end"},PaperProps:{style:{width:"248px",marginTop:"5px",borderRadius:"4px",background:"#E9E9E9",position:"relative"}},children:[h.map((function(e,t){return(0,S.jsx)(u.Z,{disableTouchRipple:!0,style:{color:v.O.blackMain},onClose:g,children:(0,S.jsx)(Q.Z,{disabled:e.default||!e.selected&&7===Z,className:"ff-Roboto fs-12 fs-medium",control:(0,S.jsx)(ee.Z,{onChange:function(){return function(e){var t=(0,J.Z)(h);t[e].selected=!t[e].selected,x(t)}(t)},checked:e.selected,style:{padding:"0",paddingRight:"16px",color:"#474747"}}),label:null===e||void 0===e?void 0:e.name})},t)})),(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",style:{padding:"16px 16px"},children:[(0,S.jsx)(b.Z,{className:"ff-Roboto fs-10 fw-medium",style:{color:"#474747",background:"transparent",width:"64px",height:"24px",borderRadius:"4px",border:"1px solid #707070"},variant:"contained",onClick:function(){l(!1)},children:"Clear"}),(0,S.jsx)(b.Z,{className:"ff-Roboto fs-10 fw-medium",style:{marginLeft:"16px",color:"#E4E4E4",background:"#474747",width:"64px",height:"24px",borderRadius:"4px"},variant:"contained",onClick:function(){l(!1),n(h)},children:"Apply"})]})]})]})}var ie=[{name:"Initiative",width:"30",selected:!0,default:!0},{name:"Created By",width:"10%",key:"createdBy",selected:!0},{name:"Created Date",width:"10%",key:"createdAt",type:"date",selected:!0},{name:"Status",width:"12%",selected:!0},{name:"Recent Activity",width:"10%",key:"updatedAt",type:"date",selected:!0},{name:"Brand",width:"14%",selected:!0,default:!0},{name:"Product",width:"14%",key:"product",selected:!0},{name:"City",width:"10%",key:"cityName",selected:!1},{name:"Country",width:"10%",key:"country",selected:!1}];function ae(e){var t=e.ecoInitiatives,n=e.onStatus,i=e.onDuplicate,a=(0,f.useState)(ie),r=(0,o.Z)(a,2),s=r[0],d=r[1],u=null===s||void 0===s?void 0:s.filter((function(e){return e.selected})),m=function(){return(0,S.jsx)(L.Z,{className:"mainUserTableHead",children:(0,S.jsx)(z.Z,{sx:{"& th":{backgroundColor:v.O.secondary}},children:u.map((function(e,t){return(0,S.jsx)(K.Z,{style:{width:e.width,paddingLeft:0===t?16:0},children:(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:t===u.length-1?"space-between":"flex-start",children:[(0,S.jsx)(l.Z,{className:"ff-Roboto fs-12 fw-semibold",style:{color:v.O.primaryDark},children:e.name}),t===u.length-1&&(0,S.jsx)(ne,{menuList:s,onApply:function(e){return d(e)}})]})},"header-cell"+t)}))})})},p=function(e){var t=e.campaign,n="reuse"===(null===t||void 0===t?void 0:t.categoryType)?C:"recycle"===(null===t||void 0===t?void 0:t.categoryType)?w:j;return(0,S.jsxs)(c.Z,{direction:"row",style:{height:"100%"},children:[(0,S.jsx)(c.Z,{justifyContent:"flex-end",sx:{width:96},children:(0,S.jsx)("img",{className:"ecoInitoatives-category-img",src:n,alt:"Category"})}),(0,S.jsxs)(c.Z,{style:{paddingLeft:"24px"},justifyContent:"center",className:"row-hover",flexGrow:1,children:[(0,S.jsx)(l.Z,{style:{color:v.O.deactive},className:"ff-Roboto fw-bold ellipseStyle capitalize",children:null===t||void 0===t?void 0:t.title}),(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",children:[(0,S.jsx)(H.Z,{fontSize:"14px",style:{marginRight:"8px"}}),(0,S.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle",children:"1 month"})]})]})]})},h=function(e){var t=e.status,n=e.onChangeStatus,i="";return"draft"===t&&(i="draft"),"scheduled"===t&&(i="otherStatus scheduled"),"running"===t&&(i="otherStatus running"),"paused"===t&&(i="otherStatus paused"),(0,S.jsx)(c.Z,{direction:"row",style:{height:"100%"},alignItems:"center",className:"row-hover",children:"finished"!==t&&"cancelled"!==t?(0,S.jsx)(b.Z,{className:"campaignStatusButton fs-12 ff-Roboto fw-regular ".concat(i),variant:"outlined",onClick:n}):(0,S.jsx)(l.Z,{style:{color:v.O.primaryHover},className:"fs-12 ff-Roboto fw-regular ",children:"finished"===t?"Finished":"Cancelled"})})};return(0,S.jsx)(F.Z,{children:(0,S.jsxs)(q.Z,{style:{tableLayout:"fixed"},stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},children:[(0,S.jsx)(m,{}),(0,S.jsx)(W.Z,{className:"mainUserBodyTable",sx:{backgroundColor:"transparent"},children:t.map((function(e,t){return(0,S.jsx)(z.Z,{className:"tableRowHover",children:u.map((function(t,a){return(0,S.jsx)(K.Z,{style:{width:t.width,height:80,borderBottomWidth:0},children:(0,S.jsxs)(c.Z,{style:{marginTop:"8px",backgroundColor:"#fff",height:"72px",position:"relative"},children:["Initiative"===t.name&&(0,S.jsx)(p,{campaign:e}),"Brand"===t.name&&(0,S.jsx)($,{campaign:e}),"Status"===t.name&&(0,S.jsx)(h,{status:null===e||void 0===e?void 0:e.campaignStatus,onChangeStatus:function(){return n(e)}}),!["Initiative","Brand","Status"].includes(t.name)&&(0,S.jsx)(c.Z,{sx:{height:"100%"},justifyContent:"center",className:"row-hover",children:(0,S.jsx)(l.Z,{className:"ff-Roboto fs-14 ",style:{color:v.O.black},children:"date"===(null===t||void 0===t?void 0:t.type)?_()(e[t.key]).format("DD-MM-YYYY"):e[t.key]||"-"})}),a===u.length-1&&(0,S.jsx)(c.Z,{className:"actionContainer",alignItems:"center",justifyContent:"center",children:(0,S.jsx)(U.Z,{style:{color:v.O.primaryDark,fontSize:"16px"},"aria-label":"contentDuplicate",component:"label",onClick:function(){return i(e)},children:(0,S.jsx)(V.Z,{fontSize:"16px",style:{color:v.O.primaryHover}})})})]})},a)}))},t)}))})]})})}function re(e){var t=e.campaign;return(0,S.jsxs)(c.Z,{className:"campaignCardContainer",children:[(0,S.jsx)(l.Z,{className:"fs-16 ff-Roboto fw-regular",style:{color:v.O.primaryHover,marginBottom:"9px"},children:null===t||void 0===t?void 0:t.title}),(0,S.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",children:[(0,S.jsx)(c.Z,{flex:1,children:(0,S.jsx)($,{campaign:t})}),(0,S.jsx)(c.Z,{flex:1,children:(0,S.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-regular",style:{color:v.O.black},children:null===t||void 0===t?void 0:t.product})})]}),(0,S.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",style:{marginTop:"6px"},children:[(0,S.jsxs)(c.Z,{flex:1,direction:"row",children:[(0,S.jsx)("div",{className:"status-circle"}),(0,S.jsx)(l.Z,{className:"fs-10 ff-Roboto fw-medium",style:{color:v.O.black,textTransform:"uppercase"},children:"Active"})]}),(0,S.jsx)(c.Z,{flex:1})]})]})}function oe(e){var t=e.ecoInitiatives;return(0,S.jsx)(c.Z,{children:t.map((function(e,t){return(0,S.jsx)(re,{campaign:e},t)}))})}var se=n(55705),ce=n(81724),le=n(29823),de=n(5397),ue=n(90503),me=n(96015),pe=n(77981);function fe(){var e=(0,se.u6)().values;return(0,S.jsxs)(f.Fragment,{children:[(0,S.jsx)(pe.Z,{label:"Name*",name:"title",emptyCheck:!0}),(0,S.jsx)(pe.Z,{label:"Short Description (30 chars)",name:"shortDescription",emptyCheck:!0}),(0,S.jsxs)(c.Z,{sx:{mb:"22px"},children:[(0,S.jsx)(l.Z,{style:{color:v.O.blackMain},className:"fs-14 ff-Roboto fw-medium mb-7",children:"Detailed Description (500 chars)"}),(0,S.jsx)(me.Z,{style:{padding:"16px",backgroundColor:"rgba(73, 96, 115, 0.11)",minHeight:"176px"},children:(0,S.jsx)(l.Z,{children:null===e||void 0===e?void 0:e.detailedDescription})})]})]})}var he=n(60277),xe=n(18956),ge=n(17198),ve=n(38254),Ze=n(26759),be=n(42419),ye=n(5130),je=n(36571),we=n(40611),Ce=n(69783);function ke(){var e=(0,he.ZP)(xe.Z)((function(e){return{width:28,height:16,padding:0,display:"flex","&:active":{"& .MuiSwitch-thumb":{width:15},"& .MuiSwitch-switchBase.Mui-checked":{transform:"translateX(9px)"}},"& .MuiSwitch-switchBase":{padding:2,"&.Mui-checked":{transform:"translateX(12px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"#8AC865"}}},"& .MuiSwitch-thumb":{boxShadow:"0 2px 4px 0 rgb(0 35 11 / 20%)",width:12,height:12,borderRadius:6,transition:e.theme.transitions.create(["width"],{duration:200})},"& .MuiSwitch-track":{borderRadius:8,opacity:1,backgroundColor:"#8C8C8C",boxSizing:"border-box"}}})),t=(0,s.Z)("(max-width:1000px)"),n=(0,se.u6)(),a=n.values,r=n.touched,o=n.errors,d=n.handleChange,u=n.dirty,m=n.setFieldValue;return(0,S.jsxs)(c.Z,{children:[(0,S.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"Schedule"}),(0,S.jsxs)(c.Z,{direction:t?"column":"row",justifyContent:"space-between",alignItems:"flex-start",className:"datepickerSetting",children:[(0,S.jsx)(je._,{dateAdapter:Ce.Z,children:(0,S.jsx)(we.M,{label:"Start Date",id:"startDate",name:"startDate",value:a.startDate,onChange:function(e){m("startDate",e.toDate())},PopperProps:{placement:"bottom-start"},disablePast:!0,components:{OpenPickerIcon:Ze.Z},renderInput:function(e){return(0,S.jsx)(ge.Z,(0,i.Z)({style:{width:t?"100%":"240px"},error:r.startDate&&Boolean(o.startDate),helperText:(r.startDate||u.startDate)&&o.startDate},e))}})}),(0,S.jsx)(je._,{dateAdapter:Ce.Z,children:(0,S.jsx)(we.M,{className:t?"mt-14":"",label:"End Date",id:"endDate",name:"endDate",value:a.endDate,onChange:function(e){m("endDate",e.toDate())},PopperProps:{placement:"bottom-end"},minDate:_()(a.startDate).add(1,"d"),disabled:null==a.startDate,components:{OpenPickerIcon:Ze.Z},renderInput:function(e){return(0,S.jsx)(ge.Z,(0,i.Z)({fullWidth:!0,style:{width:t?"100%":"240px"},error:r.endDate&&Boolean(o.endDate),helperText:(r.endDate||u.endDate)&&o.endDate},e))}})})]}),(0,S.jsxs)(c.Z,{className:"mt-14",children:[(0,S.jsx)(pe.Z,{label:"Eco Points",name:"ecoPoints",sx:{mb:0},emptyCheck:!0}),(0,S.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",className:"mt-6",children:[(0,S.jsxs)(c.Z,{direction:"row",alignItems:"center",children:["flexible"===(null===a||void 0===a?void 0:a.ecoPointsRedemption)&&(0,S.jsx)(e,{onChange:function(e){m("ecoRedemptionType","onetime"===(null===a||void 0===a?void 0:a.ecoRedemptionType)?"peritem":"onetime")},checked:"onetime"===(null===a||void 0===a?void 0:a.ecoRedemptionType),inputProps:{"aria-label":"Switch ecoRedemptionType"},sx:{mr:"12px"}}),(0,S.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-medium",color:v.O.blackMain,children:"peritem"===(null===a||void 0===a?void 0:a.ecoRedemptionType)?"One Time Per Item":"One Time Per Cart"})]}),(0,S.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-medium capitalize",color:v.O.blackMain,children:null===a||void 0===a?void 0:a.ecoPointsType})]})]}),(0,S.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mt-14 mb-7",color:v.O.blackMain,children:"Item SKUs"}),(0,S.jsx)(se.F2,{name:"SKUid",children:function(e){var t=e.push,n=e.remove;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{style:{height:"185px",overflowY:"scroll"},children:a.SKUid.map((function(e,t){var i="SKUid[".concat(t,"].skuid");return(0,S.jsx)(c.Z,{style:{marginBottom:"8px"},children:(0,S.jsx)(ge.Z,{fullWidth:!0,id:i,name:i,value:e.skuid,onChange:d,autoComplete:"off",InputProps:{endAdornment:(0,S.jsx)(ve.Z,{position:"end",children:a.SKUid.length>1&&(0,S.jsx)(U.Z,{onClick:function(){return n(t)},style:{transform:"scale(1.143)",background:"rgb(237, 237, 237)",borderRadius:"4px"},children:(0,S.jsx)(ye.Z,{})})})}})},t)}))}),(0,S.jsx)("div",{style:{textAlign:"center",marginBottom:"60px"},children:(0,S.jsx)(b.Z,{type:"button",sx:y.B9,onClick:function(){t({sku:""})},variant:"contained",endIcon:(0,S.jsx)(be.Z,{}),children:"ADD"})})]})}})]})}var Se=n(91411),Ne=n(34175),Ie=n(74960);function Re(){var e=(0,s.Z)("(max-width:1000px)"),t=(0,p.I0)(),n=(0,p.v9)((function(e){return e.app})).citiesList,d=(0,p.v9)((function(e){return e.auth})).user,m=(0,f.useState)(null),h=(0,o.Z)(m,2),x=h[0],g=h[1],Z=(0,se.u6)(),j=Z.values,w=Z.touched,C=Z.errors,k=Z.handleChange,N=Z.handleBlur,I=Z.dirty,R=Z.setFieldValue,D=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var i,r,o,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,Se.K4)(!0)),i=x.name.split(".")[1],r="enterprise/".concat(null===d||void 0===d?void 0:d.enterpriseId,"/").concat(Date.now(),".").concat(i),e.next=5,Ne.R.post("/s3",{fileName:r,contentType:x.type});case 5:(o=e.sent).ok&&(s=o.data,fetch(s,{method:"PUT",body:x}).then((function(e){e.ok&&R("brandLogo",r),t((0,Se.K4)(!1))})).catch((function(e){t((0,Se.K4)(!1)),console.log("There has been a problem with fetching signed url: "+e.message)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,S.jsxs)(c.Z,{className:e?"mt-14":"",children:[(0,S.jsx)(Ie.Z,{url:j.brandLogo?G.Z.s3Path+j.brandLogo:null,id:"brandLogo",handleFile:function(e){return function(e){e?g(e):(R("brandLogo",""),g(null))}(e)}}),(0,S.jsx)(b.Z,{disabled:!x,onClick:D,sx:(0,i.Z)((0,i.Z)({},y.A9),{},{marginTop:"8px",width:"100%"}),variant:"contained",children:"Upload"}),w.brandLogo&&Boolean(C.brandLogo)&&(0,S.jsx)(l.Z,{className:"err-msg",children:(w.brandLogo||I.brandLogo)&&C.brandLogo}),(0,S.jsxs)(c.Z,{className:"mt-16",direction:e?"column":"row",justifyContent:"space-between",alignItems:"flex-start",spacing:"8px",children:[(0,S.jsx)(c.Z,{flex:1,style:e?{width:"100%"}:{},children:(0,S.jsx)(pe.Z,{label:"Brand",name:"brandName",sx:{mb:0},emptyCheck:!0})}),(0,S.jsx)(c.Z,{flex:1,style:e?{width:"100%"}:{},children:(0,S.jsx)(pe.Z,{label:"Sub Brand",name:"subBrandName",sx:{mb:0},emptyCheck:!0})})]}),(0,S.jsx)(c.Z,{className:"mt-16",children:(0,S.jsx)(pe.Z,{label:"Product",name:"product",sx:{mb:0},emptyCheck:!0})}),(0,S.jsxs)(c.Z,{className:"mt-16",children:[(0,S.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"City"}),(0,S.jsx)(ge.Z,{fullWidth:!0,id:"cityId",name:"cityId",value:j.cityId||"",onChange:function(e){k(e)},onBlur:N,error:w.cityId&&Boolean(C.cityId),helperText:(w.cityId||I.cityId)&&C.cityId,select:!0,children:n.map((function(e){return(0,S.jsxs)(u.Z,{value:e.cityId,children:[" ",e.cityName," "]},e.cityId)}))})]}),(0,S.jsx)(c.Z,{className:"mt-16",children:(0,S.jsx)(pe.Z,{label:"Country",name:"country",sx:{mb:0},emptyCheck:!0})})]})}var De=n(58901);function Pe(e){var t,n,c=e.open,d=e.handleClose,u=e.template,m=(0,s.Z)("(max-width:1000px)"),h={"& .MuiDialog-container":{alignItems:"end"},"& .MuiPaper-root":{width:m?"696px":"728px",maxWidth:m?"696px":"728px",height:m?"620px":"656px",margin:m?"0":"8px",padding:"0 16px 23px 16px",borderRadius:m?"16px 16px 0 0":"4px"}},x=(0,p.I0)(),g=(0,p.v9)((function(e){return e.auth})).user,Z=(0,f.useRef)(),j=(0,f.useState)(0),w=(0,o.Z)(j,2),C=w[0],k=w[1],N=(0,f.useState)(!1),D=(0,o.Z)(N,2),P=D[0],T=D[1],M=(0,f.useState)(!1),E=(0,o.Z)(M,2),A=E[0],L=E[1],z=(0,i.Z)((0,i.Z)((0,i.Z)({},{ecoInitiativeScheduleId:null,ecoInitiativeTemplateId:"",title:"",shortDescription:"",startDate:null,endDate:null,ecoPoints:"",ecoPointsType:"",ecoPointsRedemption:"",ecoRedemptionType:"",SKUid:[{skuid:""}],brandLogo:"",brandName:"",subBrandName:"",product:"",country:"",cityId:"",detailedDescription:""}),u),{},{ecoPoints:null!==u&&void 0!==u&&u.ecoPoints?null===u||void 0===u?void 0:u.ecoPoints:null===u||void 0===u?void 0:u.defaultPoints,ecoPointsType:null!==u&&void 0!==u&&u.ecoPointsType?null===u||void 0===u?void 0:u.ecoPointsType:null===u||void 0===u?void 0:u.pointsType,ecoRedemptionType:null!==u&&void 0!==u&&u.ecoRedemptionType?null===u||void 0===u?void 0:u.ecoRedemptionType:null===u||void 0===u?void 0:u.pointsRedemption,ecoPointsRedemption:null!==u&&void 0!==u&&u.ecoPointsRedemption?null===u||void 0===u?void 0:u.ecoPointsRedemption:null===u||void 0===u?void 0:u.pointsRedemption}),K=function(e){var t=e.label,n=e.isActive,i=void 0!==n&&n,a=e.onMenuChange;return(0,S.jsxs)(O.Z,{onClick:function(){i||a()},className:"sideToggleBtn ".concat(i?"btn-active":""),direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,S.jsx)(l.Z,{style:{color:v.O.blackMain},className:"fs-14 ff-Roboto fw-medium",children:t}),(0,S.jsx)(de.Z,{className:"arrow",style:{color:v.O.blackMain}})]})},F=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,i,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x((0,Se.K4)(!0)),e.next=3,Ne.R.post("/ecoinitiative/".concat(g.enterpriseId),t);case 3:(n=e.sent).ok?(x((0,Se.K4)(!1)),"success"===(i=n.data).status?"1"===t.isScheduleStatus?d(!0):(null===Z||void 0===Z||null===(r=Z.current)||void 0===r||r.setFieldValue("ecoInitiativeScheduleId",i.data),T(!0)):(0,De.k)(i.message,5e3,"error")):(x((0,Se.K4)(!1)),(0,De.k)("Something Went Wrong!",5e3,"error"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n){var i,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x((0,Se.K4)(!0)),e.next=3,Ne.R.put("/ecoinitiative/".concat(g.enterpriseId,"/").concat(t),n);case 3:(i=e.sent).ok?(x((0,Se.K4)(!1)),"success"===(r=i.data).status?"1"===n.isScheduleStatus?d(!0):T(!0):(0,De.k)(r.message,5e3,"error")):(x((0,Se.K4)(!1)),(0,De.k)("Something Went Wrong!",5e3,"error"));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n,i,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x((0,Se.K4)(!0)),e.next=3,Ne.R.delete("/ecoinitiative/".concat(g.enterpriseId,"/").concat(null===(t=Z.current)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.ecoInitiativeScheduleId),{updatedBy:g.name});case 3:(i=e.sent).ok?("success"===(r=i.data).status&&((0,De.k)(r.message),d(!0)),x((0,Se.K4)(!1))):((0,De.k)("Something Went Wrong!",5e3,"error"),x((0,Se.K4)(!1)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,S.jsxs)(I.Z,{sx:h,open:c,onClose:d,maxWidth:"md","aria-labelledby":"edit-eco-campaign","aria-describedby":"edit-eco-campaign-description",children:[(0,S.jsxs)(R.Z,{className:"fs-16 ff-Roboto fw-bold",sx:{borderBottom:1,borderBottomColor:"#474747",position:"sticky",top:"0",zIndex:2,background:"#FFf"},children:["EDIT Campaign",((null===Z||void 0===Z||null===(t=Z.current)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.ecoInitiativeScheduleId)||(null===u||void 0===u?void 0:u.ecoInitiativeScheduleId))&&(0,S.jsx)(U.Z,{"aria-label":"delete",onClick:function(){return L(!0)},sx:{position:"absolute",right:40,top:8,color:v.O.black},children:(0,S.jsx)(ue.Z,{fontSize:"16px"})}),(0,S.jsx)(U.Z,{"aria-label":"close",onClick:function(){return d(P)},sx:{position:"absolute",right:8,top:8,color:v.O.black},children:(0,S.jsx)(le.Z,{fontSize:"16px"})})]}),(0,S.jsx)(O.Z,{children:(0,S.jsxs)(O.Z,{direction:"row",sx:{mt:"16px"},children:[!m&&(0,S.jsx)(O.Z,{flex:"30%",children:(0,S.jsx)("div",{style:{position:"sticky",top:"81px"},children:["Details","Settings","Additional Info"].map((function(e,t){return(0,S.jsx)(K,{label:e,isActive:t===C,onMenuChange:function(){return k(t)}},t)}))})}),(0,S.jsxs)(O.Z,{flex:m?"100%":"70%",className:m?"sideBodyContainerMobile":"sideBodyContainer",children:[(0,S.jsx)(se.J9,{innerRef:Z,initialValues:z,enableReinitialize:!0,validationSchema:ce.Ry().shape(function(){var e={title:ce.Z_("Enter your campaign Name").min(3,"Name must minimum of 3 characters").max(30,"Name must maximum of 30 characters").required("Name is Required").trim(),shortDescription:ce.Z_("Enter your Description").max(30,"")},t={startDate:ce.Z_("Enter your StartDate").nullable().required("Start Date is Required"),endDate:ce.Z_("Enter your EndDate").nullable().required("End Date is Required"),ecoPoints:ce.Z_("Enter your Eco Points").required("Eco Points is Required")},n={brandLogo:ce.Z_("Upload your brand logo").required("Brand logo is Required"),brandName:ce.Z_("Enter your brand name").trim().required("Brand name is Required"),subBrandName:ce.Z_("Enter your Subbrand").trim().required("SubBrand is Required"),product:ce.Z_("Enter your Product").required("Product is Required"),cityId:ce.Z_("Enter your Location").required("Location is Required"),country:ce.Z_("Enter your Country").trim().required("Country is Required")};return 0!==C||m?1!==C||m?2===C||m?(0,i.Z)((0,i.Z)((0,i.Z)({},e),t),n):void 0:(0,i.Z)((0,i.Z)({},e),t):e}()),onSubmit:function(e){return function(e){var t={ecoInitiativeTemplateId:e.ecoInitiativeTemplateId,title:e.title,shortDescription:e.shortDescription,startDate:e.startDate||null,endDate:e.endDate||null,ecoPoints:parseInt(e.ecoPoints),ecoPointsType:e.ecoPointsType,ecoRedemptionType:e.ecoRedemptionType,ecoPointsRedemption:e.ecoPointsRedemption,brandLogo:e.brandLogo||null,brandName:e.brandName||null,subBrandName:e.subBrandName||null,product:e.product||null,country:e.country||null,cityId:e.cityId||null,detailedDescription:e.detailedDescription,enterpriseId:g.enterpriseId,createdBy:g.name,updatedBy:g.name,SKUid:e.SKUid.filter((function(e){return e.skuid})),isScheduleStatus:2===C||m?"1":"0"};e.ecoInitiativeScheduleId?q(e.ecoInitiativeScheduleId,t):F(t)}(e)},children:function(e){return(0,S.jsx)(se.l0,{noValidate:!0,autoComplete:"off",children:(0,S.jsxs)(S.Fragment,{children:[(0===C||m)&&(0,S.jsx)(fe,{}),(1===C||m)&&(0,S.jsx)(ke,{}),(2===C||m)&&(0,S.jsx)(Re,{})]})})}}),(0,S.jsx)(O.Z,{direction:"row",justifyContent:"flex-end",flexGrow:1,alignItems:"flex-end",sx:{mt:"16px"},children:(0,S.jsx)(b.Z,{sx:(0,i.Z)((0,i.Z)({},y.mK),{},{width:2===C||m?"100%":"160px"}),onClick:function(){var e;return null===Z||void 0===Z||null===(e=Z.current)||void 0===e?void 0:e.handleSubmit()},variant:"contained",children:2===C||m?"CREATE":"SAVE"})})]})]})}),(0,S.jsx)(B,{open:A,handleClose:function(e){L(!1),e&&W()},type:"delete"})]})}var Te=n(32572),Be=n(6924),Me=["all","refuse","reuse","recycle"];function Oe(){var e=(0,s.Z)("(max-width:600px)"),t=(0,p.I0)(),n=(0,f.useState)([]),Z=(0,o.Z)(n,2),b=Z[0],y=Z[1],j=(0,f.useState)([]),w=(0,o.Z)(j,2),C=w[0],k=w[1],I=(0,f.useState)({}),R=(0,o.Z)(I,2),D=R[0],P=R[1],T=(0,f.useState)(!0),O=(0,o.Z)(T,2),E=O[0],L=O[1],z=(0,f.useRef)(null),K=(0,f.useState)(!1),F=(0,o.Z)(K,2),q=F[0],W=F[1],U=(0,f.useState)("all"),Y=(0,o.Z)(U,2),_=Y[0],H=Y[1],V=(0,f.useState)(!1),X=(0,o.Z)(V,2),G=X[0],$=X[1],J=(0,f.useState)(!1),Q=(0,o.Z)(J,2),ee=Q[0],te=Q[1],ne=(0,f.useState)(0),ie=(0,o.Z)(ne,2),re=ie[0],se=ie[1],ce=(0,f.useState)(1),le=(0,o.Z)(ce,2),de=le[0],ue=le[1],me=(0,f.useState)(10),pe=(0,o.Z)(me,2),fe=pe[0],he=pe[1],xe=(0,f.useState)(20),ge=(0,o.Z)(xe,2),ve=ge[0],Ze=ge[1],be=(0,f.useState)(0),ye=(0,o.Z)(be,2),je=ye[0],we=ye[1],Ce=Be.$B.source(),ke=Be.$B.source(),Ie=(0,p.v9)((function(e){return e.auth})).user;(0,f.useEffect)((function(){Re()}),[_]),(0,f.useEffect)((function(){ke.cancel(),ke=Be.$B.source(),Oe()}),[re,fe,de]);var Re=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ce.cancel(),Ce=Be.$B.source(),e.next=4,Ne.R.get("/ecoinitiativeTemplates/".concat(Ie.enterpriseId),{filter:"all"===_?null:_},{cancelToken:Ce.token});case 4:(t=e.sent).ok&&("success"===(n=t.data).status?y(n.data):y([]));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var n,i,r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,Se.K4)(!0)),e.next=3,Ne.R.get("/ecoinitiative/".concat(Ie.enterpriseId),{page:de,limit:fe},{cancelToken:ke.token});case 3:(n=e.sent).ok&&("success"===(i=n.data).status?(Ze((null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.length)||0),k(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.campaignList)):(k([]),Ze(0)),t((0,Se.K4)(!1)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,Se.K4)(!0)),e.next=3,Ne.R.put("/ecoinitiative/".concat(Ie.enterpriseId,"/").concat(D.ecoInitiativeScheduleId,"/cancel"),{},{params:{updatedBy:Ie.name}});case 3:(n=e.sent).ok?("success"===n.data.status&&(Oe(),P({})),t((0,Se.K4)(!1))):(0,De.k)("Something Went Wrong!",5e3,"error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,Se.K4)(!0)),e.next=3,Ne.R.put("/ecoinitiative/".concat(Ie.enterpriseId,"/").concat(D.ecoInitiativeScheduleId,"/pauseAndResume"),{isActiveStatus:"running"===D.campaignStatus?"0":"1",updatedBy:Ie.name});case 3:(n=e.sent).ok?("success"===n.data.status&&(Oe(),P({})),t((0,Se.K4)(!1))):(0,De.k)("Something Went Wrong!",5e3,"error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(e){P(e),te(!0)},ze=function(e,t){ue(t+1),se(t)},Ke=function(e){he(parseInt(e.target.value,10)),ue(1),se(0)};return(0,S.jsxs)("div",{className:"ecoInitoativesContainer innerPadding ",style:e?{}:{padding:"14px 0px 16px 0px"},children:[(0,S.jsx)("header",{className:e?"headerMobile":"",style:{marginBottom:e?"12px":"10px"},children:(0,S.jsx)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",className:"horizontal-padding",children:(0,S.jsx)(l.Z,{className:"ff-Roboto fw-bold text-upper",style:{color:v.O.blackMain},children:"ECO-INITIATIVES"})})}),(0,S.jsxs)("div",{className:e?"":"ecoInitoativesContainerBody",children:[!e&&(0,S.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:13},className:"horizontal-padding ",children:[(0,S.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",sx:{width:189},alignItems:"center",className:"cursor-pointer",id:"template-filter-button","aria-controls":q?"template-filter-menu":void 0,"aria-haspopup":"true","aria-expanded":q?"true":void 0,ref:z,onClick:function(e){W((function(e){return!e}))},children:[(0,S.jsx)(l.Z,{className:"ff-Roboto fw-bold",style:{color:v.O.deactive},children:"Templates"}),(0,S.jsx)(g.Z,{style:{color:v.O.philippineGray}})]}),(0,S.jsxs)(c.Z,{className:"cursor-pointer",direction:"row",alignItems:"center",onClick:function(){L(!E)},children:[E?(0,S.jsx)(h.Z,{fontSize:"10px",style:{color:v.O.secondarymain,marginRight:"8px"}}):(0,S.jsx)(x.Z,{fontSize:"10px",style:{color:v.O.secondarymain,marginRight:"8px"}}),(0,S.jsx)(l.Z,{className:"fs-12 ff-Roboto",style:{color:v.O.secondarymain},children:"Hide Templates"})]}),(0,S.jsx)(d.Z,{id:"template-filter-menu","aria-labelledby":"template-filter-button",anchorEl:z.current,open:q,onClose:function(e){z.current&&z.current.contains(e.target)||W((function(e){return!e}))},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Me.map((function(e,t){return(0,S.jsx)(u.Z,{disabled:_===e,selected:_===e,onClick:function(t){return n=e,W(!1),H(n),void L(!0);var n},style:{textTransform:"capitalize"},sx:{width:189},children:e},e)}))})]}),!e&&(0,S.jsx)("div",{style:{height:E?"166px":0,opacity:E?1:0},className:"ecoTemplate-container",children:(0,S.jsx)(Te.Z,{children:b.map((function(e,t){return(0,S.jsx)(N,{template:e,itemId:t,actNow:function(){return Le(e)}},t)}))})}),0===je&&e&&(0,S.jsx)(c.Z,{sx:{pb:"57px"},children:b.map((function(e,t){return(0,S.jsx)(N,{template:e,itemId:t,actNow:function(){return Le(e)}},t)}))}),!e&&(0,S.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",style:{marginBottom:8},className:"horizontal-padding ",children:[(0,S.jsx)(l.Z,{className:"ff-Roboto fw-bold",style:{color:v.O.deactive},children:"Campaigns"}),ve>0&&(0,S.jsx)(m.Z,{rowsPerPageOptions:[],count:ve||1,rowsPerPage:fe||10,page:re||0,onPageChange:ze,onRowsPerPageChange:Ke,ActionsComponent:M.Z})]}),(0,S.jsxs)("div",{className:e?"":"horizontal-padding",children:[!e&&(0,S.jsx)(ae,{ecoInitiatives:C,onStatus:function(e){P(e),$(!0)},onDuplicate:function(e){var t=(0,i.Z)((0,i.Z)({},e),{},{isScheduleStatus:"0",ecoInitiativeScheduleId:null});P(t),te(!0)}}),e&&1===je&&(0,S.jsxs)(c.Z,{sx:{pb:"60px"},children:[(0,S.jsx)(oe,{ecoInitiatives:C}),(0,S.jsx)(c.Z,{direction:"row",justifyContent:"flex-end",children:(0,S.jsx)(m.Z,{rowsPerPageOptions:[],count:ve||1,rowsPerPage:fe||10,page:re||0,onPageChange:ze,onRowsPerPageChange:Ke,ActionsComponent:M.Z})})]})]})]}),e&&(0,S.jsx)(A,{onTabChange:function(e){return we(e)}}),(0,S.jsx)(B,{open:G,handleClose:function(e){$(!1),e?("draft"===D.campaignStatus&&te(!0),"scheduled"===D.campaignStatus&&Ee(),"running"!==D.campaignStatus&&"paused"!==D.campaignStatus||Ae()):P({})},type:D.campaignStatus}),ee&&(0,S.jsx)(Pe,{open:ee,handleClose:function(e){te(!1),P({}),e&&Oe()},template:D})]})}}}]);
//# sourceMappingURL=225.48363a46.chunk.js.map