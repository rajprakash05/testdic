"use strict";(self.webpackChunkdiz=self.webpackChunkdiz||[]).push([[419],{74960:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(1413),a=n(74165),o=n(15861),r=n(70885),s=n(72791),c=n(57831),l=n(69596),d=n(13811),u=n(94162),m=n(4565),p=n(5130),f=n(6747),h=n(80184);function x(e){var t=e.handleFile,n=e.id,x=e.name,g=e.url,v=e.helpText,y=void 0===v||v,b=(0,s.useState)(""),Z=(0,r.Z)(b,2),j=Z[0],w=Z[1],C=(0,s.useState)(null),S=(0,r.Z)(C,2),k=S[0],N=S[1],I=(0,s.useState)(null),R=(0,r.Z)(I,2),D=R[0],P=R[1],T=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n[0].size>1e6)){e.next=6;break}return t(!0,null),w("File size should be less than or equal to 1MB"),N(null),P(null),e.abrupt("return");case 6:(i=new Image).src=URL.createObjectURL(n[0]),i.addEventListener("load",(function(){if(i.width<=300&&i.height<=300){console.log("yeah size and dimension"),t(n[0]),N(n[0]);var e=URL.createObjectURL(n[0]);P(e),w(!1)}else t(!0,null),w("Image dimensions should be 300 x 300 "),N(null),P(null)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=(0,c.uI)({accept:{"image/*":[".jpeg",".png"]},onDrop:T,maxFiles:1}),O=M.getRootProps,B=M.getInputProps,E=M.isDragActive,A=M.isDragReject;return(0,h.jsxs)("div",{className:"drop-zone-container flex-center",style:{border:E?"1px solid #106AA5":"",flexDirection:"column"},children:[!Boolean(j)&&(k||g)&&(0,h.jsx)(d.Z,{className:"cancelButton",onClick:function(){t(null),P(null),w(!1),N(null)},children:(0,h.jsx)(p.Z,{style:{transform:"scale(1.143)",color:"rgb(6, 29, 48)"}})}),!Boolean(j)&&!(k||g)&&(0,h.jsx)("div",(0,i.Z)((0,i.Z)({className:"dropZone"},O({className:"dropzone"})),{},{children:(0,h.jsxs)(u.Z,{justifyContent:"center",alignItems:"center",className:"imgContainer",children:[(0,h.jsx)("input",(0,i.Z)({id:n,name:x},B())),(0,h.jsx)("div",{style:{height:"64px",width:"96px"},className:"flex-center",children:(0,h.jsx)(l.Z,{style:{color:"rgb(178,215,135)",transform:"scale(4)",height:"100%"}})}),A?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(m.Z,{className:"fs-14 ff-Roboto fw-medium",color:f.O.blackMain,children:"Images only supported"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.Z,{className:"fs-14 ff-Roboto fw-medium",color:f.O.blackMain,children:"Drop File Here"}),y&&(0,h.jsx)(m.Z,{className:"fs-12 ff-Roboto fw-light mt-6",color:f.O.blackMain,children:"File dimensions should be 300x300 upto 1 MN"})]})]})})),Boolean(j)&&!(k||g)&&(0,h.jsx)("div",(0,i.Z)((0,i.Z)({className:"dropZone"},O({className:"dropzone"})),{},{children:(0,h.jsxs)(u.Z,{justifyContent:"center",alignItems:"center",className:"imgContainer",children:[(0,h.jsx)("input",(0,i.Z)({id:n,name:x},B())),(0,h.jsx)("div",{style:{height:"64px",width:"96px"},className:"flex-center",children:(0,h.jsx)(l.Z,{style:{color:"rgb(178,215,135)",transform:"scale(4)",height:"100%"}})}),(0,h.jsx)(m.Z,{className:"fs-12 ff-Roboto fw-light mt-6",color:f.O.blackMain,children:"File dimensions should be 300x300 upto 1 MN"}),(0,h.jsx)(m.Z,{className:"fs-10 ff-Roboto fw-regular",color:f.O.dangerDark,children:j})]})})),!Boolean(j)&&(k||g)&&(0,h.jsxs)("div",{style:{width:"300px"},children:[(0,h.jsx)("img",{alt:"",src:D||g,style:{width:"270px",height:"100px",objectFit:"contain"}}),(0,h.jsx)(m.Z,{style:{textAlign:"center"},className:"fs-14 ff-Roboto fw-medium ellipseStyle",color:f.O.blackMain,children:(null===k||void 0===k?void 0:k.name)||""})]})]})}},32572:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(70885),a=n(72791);var o=n(17584),r=n(80184);function s(e,t){0!==Math.abs(t.deltaX)||Math.abs(t.deltaY)<15?t.stopPropagation():t.deltaY<0?e.scrollNext():t.deltaY>0&&e.scrollPrev()}function c(e){var t=e.children,n=function(){var e=a.useState(!1),t=(0,i.Z)(e,2),n=t[0],o=t[1],r=a.useState(!1),s=(0,i.Z)(r,2),c=s[0],l=s[1],d=a.useRef(0);return{dragStart:a.useCallback((function(e){d.current=e.clientX,o(!0)}),[]),dragStop:a.useCallback((function(){return window.requestAnimationFrame((function(){l(!1),o(!1)}))}),[]),dragMove:function(e,t){var i=d.current-e.clientX,a=Math.abs(i)>5;n&&a&&l(!0),c&&a&&(d.current=e.clientX,t(i))},dragging:c,position:d,setDragging:l}}(),c=n.dragStart,l=n.dragStop,d=n.dragMove;return(0,r.jsx)("div",{onMouseLeave:l,children:(0,r.jsx)(o.ScrollMenu,{onWheel:s,onMouseDown:function(){return c},onMouseUp:function(){return l},onMouseMove:function(e){var t=e.scrollContainer;return function(e){return d(e,(function(e){t.current&&(t.current.scrollLeft+=e)}))}},children:t})})}},18061:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(70885),a=n(72791),o=n(12715),r=n(41133),s=n(5397),c=n(10111),l=n(74142),d=n(96015),u=n(17198),m=n(24020),p=n(13811),f=n(80184);function h(e){var t=(0,l.Z)(),n=e.count,h=e.page,x=e.rowsPerPage,g=e.onPageChange,v=(0,a.useState)([]),y=(0,i.Z)(v,2),b=y[0],Z=y[1];(0,a.useEffect)((function(){for(var e=Math.ceil(n/x),t=[],i=1;i<=e;i++)t.push(i);Z(t)}),[n,x]);return(0,f.jsxs)(d.Z,{className:"tablepagination",sx:{flexShrink:0,ml:2.5},children:[(0,f.jsx)("div",{className:"textFieldSelect",children:(0,f.jsx)(u.Z,{id:"pageSelect",name:"pageSelect",value:(null===b||void 0===b?void 0:b.length)>0?h+1:"",onChange:function(e){g(e,e.target.value-1)},select:!0,children:b&&b.map((function(e){return(0,f.jsxs)(m.Z,{value:e,children:[" ",e," "]},e)}))})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,0)},disabled:0===h,"aria-label":"first page",children:"rtl"===t.direction?(0,f.jsx)(c.Z,{}):(0,f.jsx)(o.Z,{})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,h-1)},disabled:0===h,"aria-label":"previous page",children:"rtl"===t.direction?(0,f.jsx)(s.Z,{}):(0,f.jsx)(r.Z,{})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,h+1)},disabled:h>=Math.ceil(n/x)-1,"aria-label":"next page",children:"rtl"===t.direction?(0,f.jsx)(r.Z,{}):(0,f.jsx)(s.Z,{})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,Math.max(0,Math.ceil(n/x)-1))},disabled:h>=Math.ceil(n/x)-1,"aria-label":"last page",children:"rtl"===t.direction?(0,f.jsx)(o.Z,{}):(0,f.jsx)(c.Z,{})})]})}},7419:function(e,t,n){n.r(t),n.d(t,{default:function(){return Be}});var i=n(1413),a=n(74165),o=n(15861),r=n(70885),s=n(52797),c=n(94162),l=n(4565),d=n(95452),u=n(24020),m=n(60643),p=n(59434),f=n(72791),h=n(77194),x=n(86616),g=n(26584),v=n(6747),y=n(48928),b=n(46997);var Z=n.p+"static/media/refuse.14363b4c91f21f77f1ee201030fc3ed6.svg";var j=n.p+"static/media/recycle.657f398cb606495666b9ed203365590f.svg";var w=n.p+"static/media/reuse.2e81fe658a84e0a4e604cfdfef71991e.svg";n.p;var C=n(80184);function S(e){var t=e.template,n=e.actNow,i=(e.itemId,(0,s.Z)("(max-width:600px)")),a="reuse"===(null===t||void 0===t?void 0:t.categoryType)?"#EFF9FF":"recycle"===(null===t||void 0===t?void 0:t.categoryType)?"#E6FFF5":"#FDF1ED",o="reuse"===(null===t||void 0===t?void 0:t.categoryType)?"#6EA4CE":"recycle"===(null===t||void 0===t?void 0:t.categoryType)?"#57AF8C":"#F48257",r="reuse"===(null===t||void 0===t?void 0:t.categoryType)?w:"recycle"===(null===t||void 0===t?void 0:t.categoryType)?j:Z;return(0,C.jsx)(y.Z,{variant:"outlined",className:"ecoTemplateCard flex-column",sx:{width:i?"unset":272},style:i?{height:"152px",marginBottom:14,marginRight:0}:{marginBottom:14},children:(0,C.jsxs)(c.Z,{direction:"row",flex:"1",children:[(0,C.jsxs)(c.Z,{flex:1,className:"pa-16",children:[(0,C.jsx)(l.Z,{className:"ff-Roboto",style:{color:v.O.blackMain},children:null===t||void 0===t?void 0:t.title}),(0,C.jsx)(c.Z,{onClick:n,"aria-label":"act-now",sx:{width:88,height:32,cursor:"pointer",mt:"14px"},children:(0,C.jsx)(l.Z,{className:"ff-Roboto fs-12 fw-bold",style:{color:v.O.primaryHover},children:"ACT NOW"})})]}),(0,C.jsxs)(c.Z,{sx:{width:"72px",backgroundColor:a},alignItems:"center",justifyContent:"center",position:"relative",children:[(0,C.jsx)("img",{className:"categoryImg",src:r,alt:"categoryImg"}),(0,C.jsx)(l.Z,{className:"ff-Roboto fs-12 fw-bold",style:{color:o,textTransform:"uppercase",position:"absolute",bottom:"13px"},children:null===t||void 0===t?void 0:t.categoryType})]})]})})}var k=n(58195),N=n(40464),I=n(8440),R=n(39571),D=n(77248),P=n(17205);function T(e){var t,n,i,a=e.open,o=e.handleClose,r=e.type,s="success";"draft"===r&&(t="Do you want to start editing?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="EDIT"),"scheduled"===r&&(s="warn",t="Do you want to cancel Campagin?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="STOP"),"delete"===r&&(s="warn",t="Do you want to delete Campagin?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="DELETE"),"running"===r&&(s="warn",t="Do you want to pause campaign?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="PAUSE"),"paused"===r&&(t="Do you want to restart the campign?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="START");var c="warn"===s?"#C71212":"#8AC865";return(0,C.jsxs)(k.Z,{open:a,onClose:function(){return o(!1)},maxWidth:"xs","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,C.jsx)(N.Z,{style:{color:"warn"===s?v.O.dangerDark:v.O.blackMain},className:"ff-Roboto fs-16 fw-medium",id:"alert-dialog-title",children:t}),(0,C.jsx)(I.Z,{children:(0,C.jsx)(R.Z,{id:"alert-dialog-description",style:{color:v.O.blackMain},className:"ff-Roboto fs-12 fw-regular",children:n})}),(0,C.jsxs)(D.Z,{children:[(0,C.jsx)(P.Z,{className:"ff-Roboto fs-14 fw-medium cancelBtn",variant:"outlined",onClick:function(){return o(!1)},children:"CANCEL"}),(0,C.jsx)(P.Z,{onClick:function(){return o(!0)},className:"ff-Roboto fs-14 fw-medium successBtn",variant:"contained",style:{backgroundColor:c},children:i})]})]})}var M=n(18061),O=n(84405),B=["TEMPLATES","CAMPAIGNS"];function E(e){var t=e.onTabChange,n=(0,f.useState)(0),i=(0,r.Z)(n,2),a=i[0],o=i[1];return(0,f.useEffect)((function(){t&&t(a)}),[a]),(0,C.jsx)("div",{className:"eco-mobile-footer-container",children:(0,C.jsxs)(O.Z,{direction:"row",sx:{height:"100%",position:"relative"},children:[B.map((function(e,t){return(0,C.jsx)(O.Z,{flex:1,alignItems:"center",justifyContent:"center",className:"diZ-tab ".concat(t===a&&"activeTab"),onClick:function(){return function(e){e!==a&&o(e)}(t)},children:(0,C.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium",children:e})},t)})),(0,C.jsx)("div",{className:"glider",style:{transform:"translateX(".concat(100*a,"%)")}})]})})}var A=n(9827),L=n(60807),F=n(24390),z=n(69963),K=n(21680),W=n(19773),q=n(13811),U=n(72426),Y=n.n(U),H=n(69212),_=n(50194),V=n(32980),X=n(74169);function G(e){var t=e.campaign;return t.brandName?(0,C.jsxs)(c.Z,{direction:"row",style:{height:"100%"},className:"row-hover",children:[(0,C.jsx)(c.Z,{justifyContent:"center",children:(0,C.jsx)("img",{className:"brandImg",src:X.Z.s3Path+(null===t||void 0===t?void 0:t.brandLogo),alt:"brandImg"})}),(0,C.jsxs)(c.Z,{justifyContent:"center",children:[(0,C.jsx)(l.Z,{style:{color:v.O.deactive},className:"ff-Roboto fw-medium fs-14 capitalize",children:null===t||void 0===t?void 0:t.brandName}),(0,C.jsxs)(c.Z,{direction:"row",alignItems:"center",children:[(0,C.jsx)(V.Z,{style:{color:v.O.primaryHover,marginRight:"14px"},fontSize:"10px"}),(0,C.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle capitalize",children:null===t||void 0===t?void 0:t.subBrandName})]})]})]}):(0,C.jsx)(c.Z,{direction:"row",style:{height:"100%"},alignItems:"center",className:"row-hover",children:(0,C.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle",children:"-"})})}var $=n(42982),J=n(72900),Q=n(45473),ee=n(52898);function te(e){var t=e.menuList,n=e.onApply,i=(0,f.useRef)(null),a=(0,f.useState)(!1),o=(0,r.Z)(a,2),s=o[0],l=o[1],m=(0,f.useState)([]),p=(0,r.Z)(m,2),h=p[0],x=p[1];(0,f.useEffect)((function(){var e=(0,$.Z)(t);x((0,$.Z)(e))}),[t]);var g=function(){l(!1)},y=h.filter((function(e){return e.selected})).length;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(q.Z,{ref:i,style:{color:v.O.primaryDark},"aria-controls":s?"table-column-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0,id:"table-column-button",onClick:function(){l(!0)},children:(0,C.jsx)(ee.Z,{})}),(0,C.jsxs)(d.Z,{className:"pereferenceMenu",id:"table-column-menu",anchorEl:i.current,open:s,MenuListProps:{"aria-labelledby":"table-column-button"},onClose:g,PopperProps:{placement:"bottom-end"},PaperProps:{style:{width:"248px",marginTop:"5px",borderRadius:"4px",background:"#E9E9E9",position:"relative"}},children:[h.map((function(e,t){return(0,C.jsx)(u.Z,{disableTouchRipple:!0,style:{color:v.O.blackMain},onClose:g,children:(0,C.jsx)(J.Z,{disabled:e.default||!e.selected&&7===y,className:"ff-Roboto fs-12 fs-medium",control:(0,C.jsx)(Q.Z,{onChange:function(){return function(e){var t=(0,$.Z)(h);t[e].selected=!t[e].selected,x(t)}(t)},checked:e.selected,style:{padding:"0",paddingRight:"16px",color:"#474747"}}),label:null===e||void 0===e?void 0:e.name})},t)})),(0,C.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",style:{padding:"16px 16px"},children:[(0,C.jsx)(P.Z,{className:"ff-Roboto fs-10 fw-medium",style:{color:"#474747",background:"transparent",width:"64px",height:"24px",borderRadius:"4px",border:"1px solid #707070"},variant:"contained",onClick:function(){l(!1)},children:"Clear"}),(0,C.jsx)(P.Z,{className:"ff-Roboto fs-10 fw-medium",style:{marginLeft:"16px",color:"#E4E4E4",background:"#474747",width:"64px",height:"24px",borderRadius:"4px"},variant:"contained",onClick:function(){l(!1),n(h)},children:"Apply"})]})]})]})}function ne(e){var t=e.status,n=e.onChangeStatus,i=(0,s.Z)("(max-width:600px)"),a="";return"draft"===t&&(a="draft"),"scheduled"===t&&(a="otherStatus scheduled"),"running"===t&&(a="otherStatus running"),"paused"===t&&(a="otherStatus paused"),(0,C.jsx)(c.Z,{direction:"row",style:{height:"100%",marginTop:i?"16px":"0"},alignItems:"center",className:"row-hover",children:"finished"!==t&&"cancelled"!==t?(0,C.jsx)(P.Z,{className:"campaignStatusButton fs-12 ff-Roboto fw-regular ".concat(a," ").concat(i?"mobile":""),variant:"outlined",onClick:n}):(0,C.jsx)(l.Z,{style:{color:v.O.primaryHover},className:"fs-12 ff-Roboto fw-regular ",children:"finished"===t?"Finished":"Cancelled"})})}var ie=[{name:"Initiative",width:"30",selected:!0,default:!0},{name:"Created By",width:"10%",key:"createdBy",selected:!0},{name:"Created Date",width:"10%",key:"createdAt",type:"date",selected:!0},{name:"Status",width:"12%",selected:!0},{name:"Recent Activity",width:"10%",key:"updatedAt",type:"date",selected:!0},{name:"Start Date",width:"10%",key:"startDate",type:"date",selected:!1},{name:"End Date",width:"10%",key:"endDate",type:"date",selected:!1},{name:"Brand",width:"14%",selected:!0,default:!0},{name:"Product",width:"14%",key:"product",selected:!0},{name:"City",width:"10%",key:"cityName",selected:!1},{name:"Country",width:"10%",key:"country",selected:!1}];function ae(e){var t=e.ecoInitiatives,n=e.onStatus,i=e.onDuplicate,a=(0,f.useState)(ie),o=(0,r.Z)(a,2),s=o[0],d=o[1],u=null===s||void 0===s?void 0:s.filter((function(e){return e.selected})),m=function(){return(0,C.jsx)(A.Z,{className:"mainUserTableHead",children:(0,C.jsx)(L.Z,{sx:{"& th":{backgroundColor:v.O.secondary}},children:u.map((function(e,t){return(0,C.jsx)(F.Z,{style:{width:e.width,paddingLeft:0===t?16:0},children:(0,C.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:t===u.length-1?"space-between":"flex-start",children:[(0,C.jsx)(l.Z,{className:"ff-Roboto fs-12 fw-semibold",style:{color:v.O.primaryDark},children:e.name}),t===u.length-1&&(0,C.jsx)(te,{menuList:s,onApply:function(e){return d(e)}})]})},"header-cell"+t)}))})})},p=function(e){var t=e.campaign,n="reuse"===(null===t||void 0===t?void 0:t.categoryType)?w:"recycle"===(null===t||void 0===t?void 0:t.categoryType)?j:Z,i="reuse"===(null===t||void 0===t?void 0:t.categoryType)?"#6EA4CE":"recycle"===(null===t||void 0===t?void 0:t.categoryType)?"#57AF8C":"#F48257";return(0,C.jsxs)(c.Z,{direction:"row",style:{height:"100%",borderLeftColor:i},className:"border-type",children:[(0,C.jsx)(c.Z,{className:"ecoInitoatives-category-container",justifyContent:"center",children:(0,C.jsx)("img",{className:"ecoInitoatives-category-img",src:n,alt:"Category"})}),(0,C.jsxs)(c.Z,{style:{paddingLeft:"8px"},justifyContent:"center",className:"row-hover",flexGrow:1,children:[(0,C.jsx)(l.Z,{style:{color:v.O.deactive},className:"ff-Roboto fw-bold ellipseStyle capitalize",children:null===t||void 0===t?void 0:t.title}),(0,C.jsxs)(c.Z,{direction:"row",alignItems:"center",children:[(0,C.jsx)(H.Z,{fontSize:"14px",style:{marginRight:"8px"}}),(0,C.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle",children:"1 month"})]})]})]})};return(0,C.jsx)(z.Z,{children:(0,C.jsxs)(K.Z,{style:{tableLayout:"fixed"},stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},children:[(0,C.jsx)(m,{}),(0,C.jsx)(W.Z,{className:"mainUserBodyTable",sx:{backgroundColor:"transparent"},children:t.map((function(e,t){return(0,C.jsx)(L.Z,{className:"tableRowHover",children:u.map((function(t,a){return(0,C.jsx)(F.Z,{style:{width:t.width,height:80,borderBottomWidth:0},children:(0,C.jsxs)(c.Z,{style:{marginTop:"8px",backgroundColor:"#fff",height:"72px",position:"relative"},children:["Initiative"===t.name&&(0,C.jsx)(p,{campaign:e}),"Brand"===t.name&&(0,C.jsx)(G,{campaign:e}),"Status"===t.name&&(0,C.jsx)(ne,{status:null===e||void 0===e?void 0:e.campaignStatus,onChangeStatus:function(){return n(e)}}),!["Initiative","Brand","Status"].includes(t.name)&&(0,C.jsx)(c.Z,{sx:{height:"100%"},justifyContent:"center",className:"row-hover",children:(0,C.jsx)(l.Z,{className:"ff-Roboto fs-14 ",style:{color:v.O.black},children:"date"===(null===t||void 0===t?void 0:t.type)?e[t.key]?Y()(e[t.key]).format("DD-MM-YYYY"):"-":e[t.key]||"-"})}),a===u.length-1&&(0,C.jsx)(c.Z,{className:"actionContainer",alignItems:"center",justifyContent:"center",children:(0,C.jsx)(q.Z,{style:{color:v.O.primaryDark,fontSize:"16px"},"aria-label":"contentDuplicate",component:"label",onClick:function(){return i(e)},children:(0,C.jsx)(_.Z,{fontSize:"16px",style:{color:v.O.primaryHover}})})})]})},a)}))},t)}))})]})})}function oe(e){var t=e.campaign,n=e.onStatus,i="reuse"===(null===t||void 0===t?void 0:t.categoryType)?"#6EA4CE":"recycle"===(null===t||void 0===t?void 0:t.categoryType)?"#57AF8C":"#F48257",a="reuse"===(null===t||void 0===t?void 0:t.categoryType)?w:"recycle"===(null===t||void 0===t?void 0:t.categoryType)?j:Z;return(0,C.jsxs)(c.Z,{className:"campaignCardContainer",style:{borderLeftColor:i},children:[(0,C.jsx)(c.Z,{direction:"row",children:(0,C.jsxs)(c.Z,{direction:"row",sx:{mb:"36px"},alignItems:"center",children:[(0,C.jsx)("img",{className:"categoryImg",src:a,alt:"categoryImg"}),(0,C.jsx)(l.Z,{className:"ff-Roboto fw-regular",style:{color:v.O.blackMain},children:null===t||void 0===t?void 0:t.title})]})}),(0,C.jsxs)(c.Z,{direction:"row",children:[(0,C.jsx)(c.Z,{direction:"row",flex:1,children:(0,C.jsx)(G,{campaign:t})}),(0,C.jsx)(c.Z,{flexGrow:1}),(0,C.jsxs)(c.Z,{flex:1,children:[(0,C.jsx)(l.Z,{className:"ff-Roboto fw-medium fs-10",style:{color:v.O.primaryHover},children:"Recent Acitivty"}),(0,C.jsx)(l.Z,{className:"ff-Roboto fw-medium fs-12",style:{color:v.O.blackMain,mb:"15px"},children:Y()(null===t||void 0===t?void 0:t.updatedAt).format("DD-MM-YYYY")}),(0,C.jsx)(ne,{status:null===t||void 0===t?void 0:t.campaignStatus,onChangeStatus:function(){return n(t)}})]})]})]})}function re(e){var t=e.ecoInitiatives,n=e.onStatus;return(0,C.jsx)(c.Z,{children:t.map((function(e,t){return(0,C.jsx)(oe,{onStatus:n,campaign:e},t)}))})}var se=n(55705),ce=n(81724),le=n(29823),de=n(5397),ue=n(90503),me=n(96015),pe=n(77981);function fe(){var e=(0,se.u6)().values;return(0,C.jsxs)(f.Fragment,{children:[(0,C.jsx)(pe.Z,{label:"Name*",name:"title",whiteSpace:!0}),(0,C.jsx)(pe.Z,{label:"Short Description* (30 chars)",name:"shortDescription",whiteSpace:!0}),(0,C.jsxs)(c.Z,{sx:{mb:"22px"},children:[(0,C.jsx)(l.Z,{style:{color:v.O.blackMain},className:"fs-14 ff-Roboto fw-medium mb-7",children:"Detailed Description (500 chars)"}),(0,C.jsx)(me.Z,{style:{padding:"16px",backgroundColor:"rgba(73, 96, 115, 0.11)",minHeight:"176px"},children:(0,C.jsx)(l.Z,{children:null===e||void 0===e?void 0:e.detailedDescription})})]})]})}var he=n(60277),xe=n(18956),ge=n(17198),ve=n(38254),ye=n(26759),be=n(42419),Ze=n(5130),je=n(36571),we=n(40611),Ce=n(69783);function Se(){var e=(0,he.ZP)(xe.Z)((function(e){return{width:28,height:16,padding:0,display:"flex","&:active":{"& .MuiSwitch-thumb":{width:15},"& .MuiSwitch-switchBase.Mui-checked":{transform:"translateX(9px)"}},"& .MuiSwitch-switchBase":{padding:2,"&.Mui-checked":{transform:"translateX(12px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"#8AC865"}}},"& .MuiSwitch-thumb":{boxShadow:"0 2px 4px 0 rgb(0 35 11 / 20%)",width:12,height:12,borderRadius:6,transition:e.theme.transitions.create(["width"],{duration:200})},"& .MuiSwitch-track":{borderRadius:8,opacity:1,backgroundColor:"#8C8C8C",boxSizing:"border-box"}}})),t=(0,s.Z)("(max-width:1000px)"),n=(0,se.u6)(),a=n.values,o=(n.touched,n.errors,n.handleChange),r=(n.dirty,n.setFieldValue);return(0,C.jsxs)(c.Z,{children:[(0,C.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"Schedule"}),(0,C.jsxs)(c.Z,{direction:t?"column":"row",justifyContent:"space-between",alignItems:"flex-start",className:"datepickerSetting",children:[(0,C.jsx)(je._,{dateAdapter:Ce.Z,children:(0,C.jsx)(we.M,{label:"Start Date*",id:"startDate",name:"startDate",value:a.startDate,onChange:function(e){r("startDate",e.toDate())},PopperProps:{placement:"bottom-start"},disablePast:!0,components:{OpenPickerIcon:ye.Z},renderInput:function(e){return(0,C.jsx)(ge.Z,(0,i.Z)({style:{width:t?"100%":"240px"}},e))}})}),(0,C.jsx)(je._,{dateAdapter:Ce.Z,children:(0,C.jsx)(we.M,{className:t?"mt-14":"",label:"End Date*",id:"endDate",name:"endDate",value:a.endDate,onChange:function(e){r("endDate",e.toDate())},PopperProps:{placement:"bottom-end"},minDate:Y()(a.startDate).add(1,"d"),disabled:null==a.startDate,components:{OpenPickerIcon:ye.Z},renderInput:function(e){return(0,C.jsx)(ge.Z,(0,i.Z)({fullWidth:!0,style:{width:t?"100%":"240px"}},e))}})})]}),(0,C.jsxs)(c.Z,{className:"mt-14",children:[(0,C.jsx)(pe.Z,{label:"Eco Points*",name:"ecoPoints",sx:{mb:0}}),(0,C.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",className:"mt-6",children:[(0,C.jsxs)(c.Z,{direction:"row",alignItems:"center",children:["flexible"===(null===a||void 0===a?void 0:a.ecoPointsRedemption)&&(0,C.jsx)(e,{onChange:function(e){r("ecoRedemptionType","onetime"===(null===a||void 0===a?void 0:a.ecoRedemptionType)?"peritem":"onetime")},checked:"onetime"===(null===a||void 0===a?void 0:a.ecoRedemptionType),inputProps:{"aria-label":"Switch ecoRedemptionType"},sx:{mr:"12px"}}),(0,C.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-medium",color:v.O.blackMain,children:"peritem"===(null===a||void 0===a?void 0:a.ecoRedemptionType)?"One Time Per Item":"One Time Per Cart"})]}),(0,C.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-medium capitalize",color:v.O.blackMain,children:null===a||void 0===a?void 0:a.ecoPointsType})]})]}),(0,C.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mt-14 mb-7",color:v.O.blackMain,children:"Item SKUs"}),(0,C.jsx)(se.F2,{name:"SKUid",children:function(e){var t=e.push,n=e.remove;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{style:{height:"185px",overflowY:"scroll"},children:a.SKUid.map((function(e,t){var i="SKUid[".concat(t,"].skuid");return(0,C.jsx)(c.Z,{style:{marginBottom:"8px"},children:(0,C.jsx)(ge.Z,{fullWidth:!0,id:i,name:i,value:e.skuid,onChange:o,autoComplete:"off",InputProps:{endAdornment:(0,C.jsx)(ve.Z,{position:"end",children:a.SKUid.length>1&&(0,C.jsx)(q.Z,{onClick:function(){return n(t)},style:{transform:"scale(1.143)",background:"rgb(237, 237, 237)",borderRadius:"4px"},children:(0,C.jsx)(Ze.Z,{})})})}})},t)}))}),(0,C.jsx)("div",{style:{textAlign:"center",marginBottom:"60px"},children:(0,C.jsx)(P.Z,{type:"button",sx:b.B9,onClick:function(){t({sku:""})},variant:"contained",endIcon:(0,C.jsx)(be.Z,{}),children:"ADD"})})]})}})]})}var ke=n(91411),Ne=n(34175),Ie=n(74960);function Re(){var e=(0,s.Z)("(max-width:1000px)"),t=(0,p.I0)(),n=(0,p.v9)((function(e){return e.app})),d=n.citiesList,m=n.countryList,h=(0,p.v9)((function(e){return e.auth})).user,x=(0,f.useState)(null),g=(0,r.Z)(x,2),y=g[0],Z=g[1],j=(0,se.u6)(),w=j.values,S=j.touched,k=j.errors,N=j.handleChange,I=j.handleBlur,R=j.dirty,D=j.setFieldValue,T=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var i,o,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,ke.K4)(!0)),i=y.name.split(".")[1],o="enterprise/".concat(null===h||void 0===h?void 0:h.enterpriseId,"/").concat(Date.now(),".").concat(i),e.next=5,Ne.R.post("/s3",{fileName:o,contentType:y.type});case 5:(r=e.sent).ok&&(s=r.data,fetch(s,{method:"PUT",body:y}).then((function(e){e.ok&&D("brandLogo",o),t((0,ke.K4)(!1))})).catch((function(e){t((0,ke.K4)(!1)),console.log("There has been a problem with fetching signed url: "+e.message)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,C.jsxs)(c.Z,{className:e?"mt-14":"",children:[(0,C.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"Brand Logo"}),(0,C.jsx)(Ie.Z,{url:w.brandLogo?X.Z.s3Path+w.brandLogo:null,id:"brandLogo",handleFile:function(e){return function(e){e?Z(e):(D("brandLogo",""),Z(null))}(e)}}),(0,C.jsx)(P.Z,{disabled:!y,onClick:T,sx:(0,i.Z)((0,i.Z)({},b.A9),{},{marginTop:"8px",width:"100%"}),variant:"contained",children:"Upload"}),S.brandLogo&&Boolean(k.brandLogo)&&(0,C.jsx)(l.Z,{className:"err-msg",children:(S.brandLogo||R.brandLogo)&&k.brandLogo}),(0,C.jsxs)(c.Z,{className:"mt-16",direction:e?"column":"row",justifyContent:"space-between",alignItems:"flex-start",spacing:"8px",children:[(0,C.jsx)(c.Z,{flex:1,style:e?{width:"100%"}:{},children:(0,C.jsx)(pe.Z,{label:"Brand*",name:"brandName",sx:{mb:0},whiteSpace:!0})}),(0,C.jsx)(c.Z,{flex:1,style:e?{width:"100%"}:{},children:(0,C.jsx)(pe.Z,{label:"Sub Brand*",name:"subBrandName",sx:{mb:0},whiteSpace:!0})})]}),(0,C.jsx)(c.Z,{className:"mt-16",children:(0,C.jsx)(pe.Z,{label:"Product*",name:"product",sx:{mb:0},whiteSpace:!0})}),(0,C.jsxs)(c.Z,{className:"mt-16",children:[(0,C.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"City*"}),(0,C.jsx)(ge.Z,{fullWidth:!0,id:"cityId",name:"cityId",value:w.cityId||"",onChange:function(e){N(e)},onBlur:I,select:!0,children:d.map((function(e){return(0,C.jsxs)(u.Z,{value:e.cityId,children:[" ",e.cityName," "]},e.cityId)}))})]}),(0,C.jsxs)(c.Z,{className:"mt-16",children:[(0,C.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"Country*"}),(0,C.jsx)(ge.Z,{fullWidth:!0,id:"countryId",name:"countryId",value:w.countryId||"",onChange:function(e){N(e)},onBlur:I,select:!0,children:m.map((function(e){return(0,C.jsxs)(u.Z,{value:e.countryId,children:[" ",e.countryName," "]},e.countryId)}))})]})]})}var De=n(58901);function Pe(e){var t,n,c=e.open,d=e.handleCloseDialog,u=e.template,m=(0,s.Z)("(max-width:1000px)"),h={"& .MuiDialog-container":{alignItems:"end"},"& .MuiPaper-root":{width:m?"696px":"728px",maxWidth:m?"696px":"728px",height:m?"620px":"656px",margin:m?"0":"8px",padding:"0 16px 23px 16px",borderRadius:m?"16px 16px 0 0":"4px"}},x=(0,p.I0)(),g=(0,p.v9)((function(e){return e.auth})).user,y=(0,f.useRef)(),Z=(0,f.useState)(0),j=(0,r.Z)(Z,2),w=j[0],S=j[1],I=(0,f.useState)(!1),R=(0,r.Z)(I,2),D=R[0],M=R[1],B=(0,f.useState)(!1),E=(0,r.Z)(B,2),A=E[0],L=E[1];(0,f.useEffect)((function(){var e;null===y||void 0===y||null===(e=y.current)||void 0===e||e.validateForm()}),[w]);var F=(0,i.Z)((0,i.Z)((0,i.Z)({},{ecoInitiativeScheduleId:null,ecoInitiativeTemplateId:"",title:"",shortDescription:"",startDate:null,endDate:null,ecoPoints:"",ecoPointsType:"",ecoPointsRedemption:"",ecoRedemptionType:"",SKUid:[{skuid:""}],brandLogo:"",brandName:"",subBrandName:"",product:"",countryId:null,cityId:"",detailedDescription:""}),u),{},{ecoPoints:null!==u&&void 0!==u&&u.ecoPoints?null===u||void 0===u?void 0:u.ecoPoints.toString():null===u||void 0===u?void 0:u.defaultPoints.toString(),ecoPointsType:null!==u&&void 0!==u&&u.ecoPointsType?null===u||void 0===u?void 0:u.ecoPointsType:null===u||void 0===u?void 0:u.pointsType,ecoRedemptionType:null!==u&&void 0!==u&&u.ecoRedemptionType?null===u||void 0===u?void 0:u.ecoRedemptionType:null===u||void 0===u?void 0:u.pointsRedemption,ecoPointsRedemption:null!==u&&void 0!==u&&u.ecoPointsRedemption?null===u||void 0===u?void 0:u.ecoPointsRedemption:null===u||void 0===u?void 0:u.pointsRedemption}),z=function(e){var t=e.label,n=e.isActive,i=void 0!==n&&n,a=e.onMenuChange;return(0,C.jsxs)(O.Z,{onClick:function(){i||a()},className:"sideToggleBtn ".concat(i?"btn-active":""),direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,C.jsx)(l.Z,{style:{color:v.O.blackMain},className:"fs-14 ff-Roboto fw-medium",children:t}),(0,C.jsx)(de.Z,{className:"arrow",style:{color:v.O.blackMain}})]})},K=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x((0,ke.K4)(!0)),e.next=3,Ne.R.post("/ecoinitiative/".concat(g.enterpriseId),t);case 3:(n=e.sent).ok?(x((0,ke.K4)(!1)),"success"===(i=n.data).status?"1"===t.isScheduleStatus?d(!0):(null===y||void 0===y||null===(o=y.current)||void 0===o||o.setFieldValue("ecoInitiativeScheduleId",i.data),M(!0)):(0,De.k)(i.message,5e3,"error")):(x((0,ke.K4)(!1)),(0,De.k)("Something Went Wrong!",5e3,"error"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){var i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x((0,ke.K4)(!0)),e.next=3,Ne.R.put("/ecoinitiative/".concat(g.enterpriseId,"/").concat(t),n);case 3:(i=e.sent).ok?(x((0,ke.K4)(!1)),"success"===(o=i.data).status?"1"===n.isScheduleStatus?d(!0):M(!0):(0,De.k)(o.message,5e3,"error")):(x((0,ke.K4)(!1)),(0,De.k)("Something Went Wrong!",5e3,"error"));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x((0,ke.K4)(!0)),e.next=3,Ne.R.delete("/ecoinitiative/".concat(g.enterpriseId,"/").concat(null===(t=y.current)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.ecoInitiativeScheduleId),{updatedBy:g.name});case 3:(i=e.sent).ok?("success"===(o=i.data).status&&((0,De.k)(o.message),d(!0)),x((0,ke.K4)(!1))):((0,De.k)("Something Went Wrong!",5e3,"error"),x((0,ke.K4)(!1)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,C.jsxs)(k.Z,{sx:h,open:c,onClose:function(e,t){t&&"backdropClick"===t||d(!0)},maxWidth:"md","aria-labelledby":"edit-eco-campaign","aria-describedby":"edit-eco-campaign-description",children:[(0,C.jsxs)(N.Z,{className:"fs-16 ff-Roboto fw-bold",sx:{borderBottom:1,borderBottomColor:"#474747",position:"sticky",top:"0",zIndex:2,background:"#FFf"},children:["EDIT Campaign",((null===y||void 0===y||null===(t=y.current)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.ecoInitiativeScheduleId)||(null===u||void 0===u?void 0:u.ecoInitiativeScheduleId))&&(0,C.jsx)(q.Z,{"aria-label":"delete",onClick:function(){return L(!0)},sx:{position:"absolute",right:40,top:8,color:v.O.black},children:(0,C.jsx)(ue.Z,{fontSize:"16px"})}),(0,C.jsx)(q.Z,{"aria-label":"close",onClick:function(){return d(D)},sx:{position:"absolute",right:8,top:8,color:v.O.black},children:(0,C.jsx)(le.Z,{fontSize:"16px"})})]}),(0,C.jsx)(O.Z,{children:(0,C.jsxs)(O.Z,{direction:"row",sx:{mt:"16px"},children:[!m&&(0,C.jsx)(O.Z,{flex:"30%",children:(0,C.jsx)("div",{style:{position:"sticky",top:"81px"},children:["Details","Settings","Additional Info"].map((function(e,t){return(0,C.jsx)(z,{label:e,isActive:t===w,onMenuChange:function(){S(t)}},t)}))})}),(0,C.jsx)(O.Z,{flex:m?"100%":"70%",className:m?"sideBodyContainerMobile":"sideBodyContainer",children:(0,C.jsx)(se.J9,{innerRef:y,initialValues:F,enableReinitialize:!0,validationSchema:ce.Ry().shape(function(){var e={title:ce.Z_("Enter your campaign Name").min(3,"Name must minimum of 3 characters").max(30,"Name must maximum of 30 characters").required("Name is Required").trim(),shortDescription:ce.Z_("Enter your Description").max(30,"")},t={startDate:ce.hT("Enter your StartDate").nullable().required("Start Date is Required"),endDate:ce.hT("Enter your EndDate").nullable().required("End Date is Required").when("startDate",(function(e,t){if(e){var n=new Date(e);return n.setDate(n.getDate()+1),e&&t.min(n,"Should be Greater than start date")}})),ecoPoints:ce.Rx("Enter your Eco Points").typeError("You must specify a number").required("Eco Points is Required")},n={brandLogo:ce.Z_("Upload your brand logo"),brandName:ce.Z_("Enter your brand name").trim().required("Brand name is Required"),subBrandName:ce.Z_("Enter your Subbrand").trim().required("SubBrand is Required"),product:ce.Z_("Enter your Product").required("Product is Required"),cityId:ce.Z_("Enter your Location").required("Location is Required"),countryId:ce.Z_("Enter your Country").trim().required("Country is Required")};return 0!==w||m?1!==w||m?2===w||m?(0,i.Z)((0,i.Z)((0,i.Z)({},e),t),n):void 0:(0,i.Z)((0,i.Z)({},e),t):e}()),onSubmit:function(e){return function(e){var t={ecoInitiativeTemplateId:e.ecoInitiativeTemplateId,title:e.title,shortDescription:e.shortDescription,startDate:e.startDate||null,endDate:e.endDate||null,ecoPoints:parseInt(e.ecoPoints),ecoPointsType:e.ecoPointsType,ecoRedemptionType:e.ecoRedemptionType,ecoPointsRedemption:e.ecoPointsRedemption,brandLogo:2===w||m?e.brandLogo||g.enterpriseLogo||"default/campaignLogo.png":e.brandLogo||null,brandName:e.brandName||null,subBrandName:e.subBrandName||null,product:e.product||null,countryId:e.countryId||null,cityId:e.cityId||null,detailedDescription:e.detailedDescription,enterpriseId:g.enterpriseId,createdBy:g.name,updatedBy:g.name,SKUid:e.SKUid.filter((function(e){return e.skuid})),isScheduleStatus:2===w||m?"1":"0"};e.ecoInitiativeScheduleId?W(e.ecoInitiativeScheduleId,t):K(t)}(e)},children:function(e){var t=e.isValid;return(0,C.jsx)(se.l0,{noValidate:!0,autoComplete:"off",children:(0,C.jsxs)(C.Fragment,{children:[(0===w||m)&&(0,C.jsx)(fe,{}),(1===w||m)&&(0,C.jsx)(Se,{}),(2===w||m)&&(0,C.jsx)(Re,{}),(0,C.jsx)(O.Z,{direction:"row",justifyContent:"flex-end",flexGrow:1,alignItems:"flex-end",sx:{mt:"16px"},children:(0,C.jsx)(P.Z,{sx:(0,i.Z)((0,i.Z)({},b.mK),{},{width:2===w||m?"100%":"160px"}),onClick:function(){var e;return null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.handleSubmit()},variant:"contained",disabled:!t,children:2===w||m?"CREATE":"SAVE"})})]})})}})})]})}),(0,C.jsx)(T,{open:A,handleClose:function(e){L(!1),e&&U()},type:"delete"})]})}var Te=n(32572),Me=n(6924),Oe=["all","refuse","reuse","recycle"];function Be(){var e=(0,s.Z)("(max-width:600px)"),t=(0,p.I0)(),n=(0,f.useState)([]),y=(0,r.Z)(n,2),b=y[0],Z=y[1],j=(0,f.useState)([]),w=(0,r.Z)(j,2),k=w[0],N=w[1],I=(0,f.useState)({}),R=(0,r.Z)(I,2),D=R[0],P=R[1],O=(0,f.useState)(!0),B=(0,r.Z)(O,2),A=B[0],L=B[1],F=(0,f.useRef)(null),z=(0,f.useState)(!1),K=(0,r.Z)(z,2),W=K[0],q=K[1],U=(0,f.useState)("all"),Y=(0,r.Z)(U,2),H=Y[0],_=Y[1],V=(0,f.useState)(!1),X=(0,r.Z)(V,2),G=X[0],$=X[1],J=(0,f.useState)(!1),Q=(0,r.Z)(J,2),ee=Q[0],te=Q[1],ne=(0,f.useState)(0),ie=(0,r.Z)(ne,2),oe=ie[0],se=ie[1],ce=(0,f.useState)(1),le=(0,r.Z)(ce,2),de=le[0],ue=le[1],me=(0,f.useState)(10),pe=(0,r.Z)(me,2),fe=pe[0],he=pe[1],xe=(0,f.useState)(20),ge=(0,r.Z)(xe,2),ve=ge[0],ye=ge[1],be=(0,f.useState)(0),Ze=(0,r.Z)(be,2),je=Ze[0],we=Ze[1],Ce=Me.$B.source(),Se=Me.$B.source(),Ie=(0,p.v9)((function(e){return e.auth})).user,Re=(0,p.v9)((function(e){return e.app})).isLoading;(0,f.useEffect)((function(){Be()}),[H]),(0,f.useEffect)((function(){Se.cancel(),Se=Me.$B.source(),Ee()}),[oe,fe,de]);var Be=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ce.cancel(),Ce=Me.$B.source(),e.next=4,Ne.R.get("/ecoinitiativeTemplates/".concat(Ie.enterpriseId),{filter:"all"===H?null:H},{cancelToken:Ce.token});case 4:(t=e.sent).ok&&("success"===(n=t.data).status?Z(n.data):Z([]));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n,i,o,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,ke.K4)(!0)),e.next=3,Ne.R.get("/ecoinitiative/".concat(Ie.enterpriseId),{page:de,limit:fe},{cancelToken:Se.token});case 3:(n=e.sent).ok&&("success"===(i=n.data).status?(ye((null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.length)||0),N(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.campaignList)):(N([]),ye(0)),t((0,ke.K4)(!1)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,ke.K4)(!0)),e.next=3,Ne.R.put("/ecoinitiative/".concat(Ie.enterpriseId,"/").concat(D.ecoInitiativeScheduleId,"/cancel"),{},{params:{updatedBy:Ie.name}});case 3:(n=e.sent).ok?("success"===n.data.status&&(Ee(),P({})),t((0,ke.K4)(!1))):(0,De.k)("Something Went Wrong!",5e3,"error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,ke.K4)(!0)),e.next=3,Ne.R.put("/ecoinitiative/".concat(Ie.enterpriseId,"/").concat(D.ecoInitiativeScheduleId,"/pauseAndResume"),{isActiveStatus:"running"===D.campaignStatus?"0":"1",updatedBy:Ie.name});case 3:(n=e.sent).ok?("success"===n.data.status&&(Ee(),P({})),t((0,ke.K4)(!1))):(0,De.k)("Something Went Wrong!",5e3,"error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(e){P(e),te(!0)},ze=function(e){P(e),$(!0)},Ke=function(e,t){ue(t+1),se(t)},We=function(e){he(parseInt(e.target.value,10)),ue(1),se(0)};return(0,C.jsxs)("div",{className:"ecoInitoativesContainer innerPadding ",style:e?{}:{padding:"14px 0px 16px 0px"},children:[(0,C.jsx)("header",{className:e?"headerMobile":"",style:{marginBottom:e?"12px":"10px"},children:(0,C.jsx)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",className:"horizontal-padding",children:(0,C.jsx)(l.Z,{className:"ff-Roboto fw-bold text-upper",style:{color:v.O.blackMain},children:"ECO-INITIATIVES"})})}),(0,C.jsxs)("div",{className:e?"":"ecoInitoativesContainerBody",children:[!e&&(0,C.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:13},className:"horizontal-padding ",children:[(0,C.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",sx:{width:189},alignItems:"center",className:"cursor-pointer",id:"template-filter-button","aria-controls":W?"template-filter-menu":void 0,"aria-haspopup":"true","aria-expanded":W?"true":void 0,ref:F,onClick:function(e){q((function(e){return!e}))},children:[(0,C.jsx)(l.Z,{className:"ff-Roboto fw-bold",style:{color:v.O.deactive},children:"Templates"}),(0,C.jsx)(g.Z,{style:{color:v.O.philippineGray}})]}),(0,C.jsxs)(c.Z,{className:"cursor-pointer",direction:"row",alignItems:"center",onClick:function(){L(!A)},children:[A?(0,C.jsx)(h.Z,{fontSize:"10px",style:{color:v.O.secondarymain,marginRight:"8px"}}):(0,C.jsx)(x.Z,{fontSize:"10px",style:{color:v.O.secondarymain,marginRight:"8px"}}),(0,C.jsx)(l.Z,{className:"fs-12 ff-Roboto",style:{color:v.O.secondarymain},children:"Hide Templates"})]}),(0,C.jsx)(d.Z,{id:"template-filter-menu","aria-labelledby":"template-filter-button",anchorEl:F.current,open:W,onClose:function(e){F.current&&F.current.contains(e.target)||q((function(e){return!e}))},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Oe.map((function(e,t){return(0,C.jsx)(u.Z,{disabled:H===e,selected:H===e,onClick:function(t){return n=e,q(!1),_(n),void L(!0);var n},style:{textTransform:"capitalize"},sx:{width:189},children:e},e)}))})]}),!e&&(0,C.jsx)("div",{style:{height:A?"166px":0,opacity:A?1:0},className:"ecoTemplate-container",children:(0,C.jsx)(Te.Z,{children:b.map((function(e,t){return(0,C.jsx)(S,{template:e,itemId:t,actNow:function(){return Fe(e)}},t)}))})}),0===je&&e&&(0,C.jsx)(c.Z,{sx:{pb:"57px"},children:b.map((function(e,t){return(0,C.jsx)(S,{template:e,itemId:t,actNow:function(){return Fe(e)}},t)}))}),!e&&(0,C.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",style:{marginBottom:8},className:"horizontal-padding ",children:[(0,C.jsx)(l.Z,{className:"ff-Roboto fw-bold",style:{color:v.O.deactive},children:"Campaigns"}),ve>0&&(0,C.jsx)(m.Z,{rowsPerPageOptions:[],count:ve||1,rowsPerPage:fe||10,page:oe||0,onPageChange:Ke,onRowsPerPageChange:We,ActionsComponent:M.Z})]}),(0,C.jsxs)("div",{className:e?"":"horizontal-padding",children:[!e&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(ae,{ecoInitiatives:k,onStatus:ze,onDuplicate:function(e){var t=(0,i.Z)((0,i.Z)({},e),{},{isScheduleStatus:"0",ecoInitiativeScheduleId:null});P(t),te(!0)}}),(null===k||void 0===k?void 0:k.length)<=0&&!Re?(0,C.jsx)("div",{className:"noData",children:"No Data Found"}):""]}),e&&1===je&&(0,C.jsxs)(c.Z,{sx:{pb:"60px"},children:[(0,C.jsx)(re,{ecoInitiatives:k,onStatus:ze}),(0,C.jsx)(c.Z,{direction:"row",justifyContent:"flex-end",children:(0,C.jsx)(m.Z,{rowsPerPageOptions:[],count:ve||1,rowsPerPage:fe||10,page:oe||0,onPageChange:Ke,onRowsPerPageChange:We,ActionsComponent:M.Z})})]})]})]}),e&&(0,C.jsx)(E,{onTabChange:function(e){return we(e)}}),(0,C.jsx)(T,{open:G,handleClose:function(e){$(!1),e?("draft"===D.campaignStatus&&te(!0),"scheduled"===D.campaignStatus&&Ae(),"running"!==D.campaignStatus&&"paused"!==D.campaignStatus||Le()):P({})},type:D.campaignStatus}),ee&&(0,C.jsx)(Pe,{open:ee,handleCloseDialog:function(e){te(!1),P({}),e&&Ee()},template:D})]})}}}]);
//# sourceMappingURL=419.df3bcc88.chunk.js.map