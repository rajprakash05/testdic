"use strict";(self.webpackChunkdiz=self.webpackChunkdiz||[]).push([[72],{32572:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(70885),a=n(72791);var o=n(17584),r=n(80184);function s(e,t){0!==Math.abs(t.deltaX)||Math.abs(t.deltaY)<15?t.stopPropagation():t.deltaY<0?e.scrollNext():t.deltaY>0&&e.scrollPrev()}function c(e){var t=e.children,n=function(){var e=a.useState(!1),t=(0,i.Z)(e,2),n=t[0],o=t[1],r=a.useState(!1),s=(0,i.Z)(r,2),c=s[0],l=s[1],d=a.useRef(0);return{dragStart:a.useCallback((function(e){d.current=e.clientX,o(!0)}),[]),dragStop:a.useCallback((function(){return window.requestAnimationFrame((function(){l(!1),o(!1)}))}),[]),dragMove:function(e,t){var i=d.current-e.clientX,a=Math.abs(i)>5;n&&a&&l(!0),c&&a&&(d.current=e.clientX,t(i))},dragging:c,position:d,setDragging:l}}(),c=n.dragStart,l=n.dragStop,d=n.dragMove;return(0,r.jsx)("div",{onMouseLeave:l,children:(0,r.jsx)(o.ScrollMenu,{onWheel:s,onMouseDown:function(){return c},onMouseUp:function(){return l},onMouseMove:function(e){var t=e.scrollContainer;return function(e){return d(e,(function(e){t.current&&(t.current.scrollLeft+=e)}))}},children:t})})}},18061:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(70885),a=n(72791),o=n(12715),r=n(41133),s=n(5397),c=n(10111),l=n(74142),d=n(96015),u=n(17198),m=n(24020),p=n(13811),f=n(80184);function h(e){var t=(0,l.Z)(),n=e.count,h=e.page,x=e.rowsPerPage,g=e.onPageChange,v=(0,a.useState)([]),b=(0,i.Z)(v,2),Z=b[0],j=b[1];(0,a.useEffect)((function(){for(var e=Math.ceil(n/x),t=[],i=1;i<=e;i++)t.push(i);j(t)}),[n,x]);return(0,f.jsxs)(d.Z,{className:"tablepagination",sx:{flexShrink:0,ml:2.5},children:[(0,f.jsx)("div",{className:"textFieldSelect",children:(0,f.jsx)(u.Z,{id:"pageSelect",name:"pageSelect",value:(null===Z||void 0===Z?void 0:Z.length)>0?h+1:"",onChange:function(e){g(e,e.target.value-1)},select:!0,children:Z&&Z.map((function(e){return(0,f.jsxs)(m.Z,{value:e,children:[" ",e," "]},e)}))})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,0)},disabled:0===h,"aria-label":"first page",children:"rtl"===t.direction?(0,f.jsx)(c.Z,{}):(0,f.jsx)(o.Z,{})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,h-1)},disabled:0===h,"aria-label":"previous page",children:"rtl"===t.direction?(0,f.jsx)(s.Z,{}):(0,f.jsx)(r.Z,{})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,h+1)},disabled:h>=Math.ceil(n/x)-1,"aria-label":"next page",children:"rtl"===t.direction?(0,f.jsx)(r.Z,{}):(0,f.jsx)(s.Z,{})}),(0,f.jsx)(p.Z,{onClick:function(e){g(e,Math.max(0,Math.ceil(n/x)-1))},disabled:h>=Math.ceil(n/x)-1,"aria-label":"last page",children:"rtl"===t.direction?(0,f.jsx)(o.Z,{}):(0,f.jsx)(c.Z,{})})]})}},49072:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ee}});var i=n(1413),a=n(74165),o=n(15861),r=n(70885),s=n(52797),c=n(94162),l=n(4565),d=n(95452),u=n(24020),m=n(60643),p=n(59434),f=n(72791),h=n(77194),x=n(86616),g=n(26584),v=n(6747),b=n(48928),Z=n(17205),j=n(46997);var y=n.p+"static/media/refuse.2737ad4bd4bf2d21c8cac404bf949bad.svg";var w=n.p+"static/media/recycle.80000b618acb05dd5652741bc1a667ab.svg";var N=n.p+"static/media/reuse.5d0776ebdd2a403b20c8ac9135cd522c.svg";var C=n.p+"static/media/eco-template-bg.44dfc4008a49924e5f3bf019ce25e643.svg",k=n(80184);function S(e){var t=e.template,n=e.actNow,a=(e.itemId,(0,s.Z)("(max-width:600px)")),o="reuse"===(null===t||void 0===t?void 0:t.categoryType)?N:"recycle"===(null===t||void 0===t?void 0:t.categoryType)?w:y;return(0,k.jsxs)(b.Z,{variant:"outlined",className:"ecoTemplateCard flex-column",sx:{width:a?"unset":272},style:a?{height:"152px",marginBottom:14,marginRight:0}:{marginBottom:14},children:[(0,k.jsx)(c.Z,{direction:"row",children:(0,k.jsx)(l.Z,{className:"ff-Roboto",style:{color:v.O.deactive},children:null===t||void 0===t?void 0:t.title})}),(0,k.jsx)(c.Z,{direction:"row",flex:1,alignItems:"flex-end",justifyContent:"flex-end",children:(0,k.jsx)(Z.Z,{onClick:n,"aria-label":"act-now",variant:"contained",className:"fw-medium",sx:(0,i.Z)((0,i.Z)({},j.mK),{},{width:88,height:32,fontSize:10,zIndex:1}),children:"Act Now"})}),(0,k.jsx)("img",{className:"categoryImg",src:o,alt:"categoryImg"}),(0,k.jsx)("img",{className:"eco-template-bg",src:C,alt:"bg"})]})}var I=n(58195),R=n(40464),D=n(8440),B=n(39571),P=n(77248);function T(e){var t,n,i,a=e.open,o=e.handleClose,r=e.type,s="success";"draft"===r&&(t="Do you want to start editing?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="EDIT"),"scheduled"===r&&(s="warn",t="Do you want to cancel Campagin?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="STOP"),"delete"===r&&(s="warn",t="Do you want to delete Campagin?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="DELETE"),"running"===r&&(s="warn",t="Do you want to pause campaign?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="PAUSE"),"paused"===r&&(t="Do you want to restart the campign?",n="You can save your changes while editing the campaigns and come back later to finish it.",i="START");var c="warn"===s?"#C71212":"#8AC865";return(0,k.jsxs)(I.Z,{open:a,onClose:function(){return o(!1)},maxWidth:"xs","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,k.jsx)(R.Z,{style:{color:"warn"===s?v.O.dangerDark:v.O.blackMain},className:"ff-Roboto fs-16 fw-medium",id:"alert-dialog-title",children:t}),(0,k.jsx)(D.Z,{children:(0,k.jsx)(B.Z,{id:"alert-dialog-description",style:{color:v.O.blackMain},className:"ff-Roboto fs-12 fw-regular",children:n})}),(0,k.jsxs)(P.Z,{children:[(0,k.jsx)(Z.Z,{className:"ff-Roboto fs-14 fw-medium cancelBtn",variant:"outlined",onClick:function(){return o(!1)},children:"CANCEL"}),(0,k.jsx)(Z.Z,{onClick:function(){return o(!0)},className:"ff-Roboto fs-14 fw-medium successBtn",variant:"contained",style:{backgroundColor:c},children:i})]})]})}var M=n(18061),O=n(84405),E=["TEMPLATES","CAMPAIGNS"];function A(e){var t=e.onTabChange,n=(0,f.useState)(0),i=(0,r.Z)(n,2),a=i[0],o=i[1];return(0,f.useEffect)((function(){t&&t(a)}),[a]),(0,k.jsx)("div",{className:"eco-mobile-footer-container",children:(0,k.jsxs)(O.Z,{direction:"row",sx:{height:"100%",position:"relative"},children:[E.map((function(e,t){return(0,k.jsx)(O.Z,{flex:1,alignItems:"center",justifyContent:"center",className:"diZ-tab ".concat(t===a&&"activeTab"),onClick:function(){return function(e){e!==a&&o(e)}(t)},children:(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium",children:e})},t)})),(0,k.jsx)("div",{className:"glider",style:{transform:"translateX(".concat(100*a,"%)")}})]})})}var L=n(9827),z=n(60807),K=n(24390),W=n(69963),F=n(21680),q=n(19773),U=n(13811),Y=n(72426),_=n.n(Y),H=n(69212),V=n(50194),X=n(32980),G=n(74169);function $(e){var t=e.campaign;return t.brandName?(0,k.jsxs)(c.Z,{direction:"row",style:{height:"100%"},className:"row-hover",children:[(0,k.jsx)(c.Z,{justifyContent:"center",children:(0,k.jsx)("img",{className:"brandImg",src:G.Z.s3Path+(null===t||void 0===t?void 0:t.brandLogo),alt:"brandImg"})}),(0,k.jsxs)(c.Z,{justifyContent:"center",children:[(0,k.jsx)(l.Z,{style:{color:v.O.deactive},className:"ff-Roboto fw-medium fs-14 capitalize",children:null===t||void 0===t?void 0:t.brandName}),(0,k.jsxs)(c.Z,{direction:"row",alignItems:"center",children:[(0,k.jsx)(X.Z,{style:{color:v.O.primaryHover,marginRight:"14px"},fontSize:"10px"}),(0,k.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle capitalize",children:null===t||void 0===t?void 0:t.subBrandName})]})]})]}):(0,k.jsx)(c.Z,{direction:"row",style:{height:"100%"},alignItems:"center",className:"row-hover",children:(0,k.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle",children:"-"})})}var J=n(42982),Q=n(72900),ee=n(45473),te=n(52898);function ne(e){var t=e.menuList,n=e.onApply,i=(0,f.useRef)(null),a=(0,f.useState)(!1),o=(0,r.Z)(a,2),s=o[0],l=o[1],m=(0,f.useState)([]),p=(0,r.Z)(m,2),h=p[0],x=p[1];(0,f.useEffect)((function(){var e=(0,J.Z)(t);x((0,J.Z)(e))}),[t]);var g=function(){l(!1)},b=h.filter((function(e){return e.selected})).length;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(U.Z,{ref:i,style:{color:v.O.primaryDark},"aria-controls":s?"table-column-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0,id:"table-column-button",onClick:function(){l(!0)},children:(0,k.jsx)(te.Z,{})}),(0,k.jsxs)(d.Z,{className:"pereferenceMenu",id:"table-column-menu",anchorEl:i.current,open:s,MenuListProps:{"aria-labelledby":"table-column-button"},onClose:g,PopperProps:{placement:"bottom-end"},PaperProps:{style:{width:"248px",marginTop:"5px",borderRadius:"4px",background:"#E9E9E9",position:"relative"}},children:[h.map((function(e,t){return(0,k.jsx)(u.Z,{disableTouchRipple:!0,style:{color:v.O.blackMain},onClose:g,children:(0,k.jsx)(Q.Z,{disabled:e.default||!e.selected&&7===b,className:"ff-Roboto fs-12 fs-medium",control:(0,k.jsx)(ee.Z,{onChange:function(){return function(e){var t=(0,J.Z)(h);t[e].selected=!t[e].selected,x(t)}(t)},checked:e.selected,style:{padding:"0",paddingRight:"16px",color:"#474747"}}),label:null===e||void 0===e?void 0:e.name})},t)})),(0,k.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",style:{padding:"16px 16px"},children:[(0,k.jsx)(Z.Z,{className:"ff-Roboto fs-10 fw-medium",style:{color:"#474747",background:"transparent",width:"64px",height:"24px",borderRadius:"4px",border:"1px solid #707070"},variant:"contained",onClick:function(){l(!1)},children:"Clear"}),(0,k.jsx)(Z.Z,{className:"ff-Roboto fs-10 fw-medium",style:{marginLeft:"16px",color:"#E4E4E4",background:"#474747",width:"64px",height:"24px",borderRadius:"4px"},variant:"contained",onClick:function(){l(!1),n(h)},children:"Apply"})]})]})]})}var ie=[{name:"Initiative",width:"30",selected:!0,default:!0},{name:"Created By",width:"10%",key:"createdBy",selected:!0},{name:"Created Date",width:"10%",key:"createdAt",type:"date",selected:!0},{name:"Status",width:"12%",selected:!0},{name:"Recent Activity",width:"10%",key:"updatedAt",type:"date",selected:!0},{name:"Brand",width:"14%",selected:!0,default:!0},{name:"Product",width:"14%",key:"product",selected:!0},{name:"City",width:"10%",key:"cityName",selected:!1},{name:"Country",width:"10%",key:"country",selected:!1}];function ae(e){var t=e.ecoInitiatives,n=e.onStatus,i=e.onDuplicate,a=(0,f.useState)(ie),o=(0,r.Z)(a,2),s=o[0],d=o[1],u=null===s||void 0===s?void 0:s.filter((function(e){return e.selected})),m=function(){return(0,k.jsx)(L.Z,{className:"mainUserTableHead",children:(0,k.jsx)(z.Z,{sx:{"& th":{backgroundColor:v.O.secondary}},children:u.map((function(e,t){return(0,k.jsx)(K.Z,{style:{width:e.width,paddingLeft:0===t?16:0},children:(0,k.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:t===u.length-1?"space-between":"flex-start",children:[(0,k.jsx)(l.Z,{className:"ff-Roboto fs-12 fw-semibold",style:{color:v.O.primaryDark},children:e.name}),t===u.length-1&&(0,k.jsx)(ne,{menuList:s,onApply:function(e){return d(e)}})]})},"header-cell"+t)}))})})},p=function(e){var t=e.campaign,n="reuse"===(null===t||void 0===t?void 0:t.categoryType)?N:"recycle"===(null===t||void 0===t?void 0:t.categoryType)?w:y;return(0,k.jsxs)(c.Z,{direction:"row",style:{height:"100%"},children:[(0,k.jsx)(c.Z,{justifyContent:"flex-end",sx:{width:96},children:(0,k.jsx)("img",{className:"ecoInitoatives-category-img",src:n,alt:"Category"})}),(0,k.jsxs)(c.Z,{style:{paddingLeft:"24px"},justifyContent:"center",className:"row-hover",flexGrow:1,children:[(0,k.jsx)(l.Z,{style:{color:v.O.deactive},className:"ff-Roboto fw-bold ellipseStyle capitalize",children:null===t||void 0===t?void 0:t.title}),(0,k.jsxs)(c.Z,{direction:"row",alignItems:"center",children:[(0,k.jsx)(H.Z,{fontSize:"14px",style:{marginRight:"8px"}}),(0,k.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-regular ellipseStyle",children:"1 month"})]})]})]})},h=function(e){var t=e.status,n=e.onChangeStatus,i="";return"draft"===t&&(i="draft"),"scheduled"===t&&(i="otherStatus scheduled"),"running"===t&&(i="otherStatus running"),"paused"===t&&(i="otherStatus paused"),(0,k.jsx)(c.Z,{direction:"row",style:{height:"100%"},alignItems:"center",className:"row-hover",children:"finished"!==t&&"cancelled"!==t?(0,k.jsx)(Z.Z,{className:"campaignStatusButton fs-12 ff-Roboto fw-regular ".concat(i),variant:"outlined",onClick:n}):(0,k.jsx)(l.Z,{style:{color:v.O.primaryHover},className:"fs-12 ff-Roboto fw-regular ",children:"finished"===t?"Finished":"Cancelled"})})};return(0,k.jsx)(W.Z,{children:(0,k.jsxs)(F.Z,{style:{tableLayout:"fixed"},stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},children:[(0,k.jsx)(m,{}),(0,k.jsx)(q.Z,{className:"mainUserBodyTable",sx:{backgroundColor:"transparent"},children:t.map((function(e,t){return(0,k.jsx)(z.Z,{className:"tableRowHover",children:u.map((function(t,a){return(0,k.jsx)(K.Z,{style:{width:t.width,height:80,borderBottomWidth:0},children:(0,k.jsxs)(c.Z,{style:{marginTop:"8px",backgroundColor:"#fff",height:"72px",position:"relative"},children:["Initiative"===t.name&&(0,k.jsx)(p,{campaign:e}),"Brand"===t.name&&(0,k.jsx)($,{campaign:e}),"Status"===t.name&&(0,k.jsx)(h,{status:null===e||void 0===e?void 0:e.campaignStatus,onChangeStatus:function(){return n(e)}}),!["Initiative","Brand","Status"].includes(t.name)&&(0,k.jsx)(c.Z,{sx:{height:"100%"},justifyContent:"center",className:"row-hover",children:(0,k.jsx)(l.Z,{className:"ff-Roboto fs-14 ",style:{color:v.O.black},children:"date"===(null===t||void 0===t?void 0:t.type)?_()(e[t.key]).format("DD-MM-YYYY"):e[t.key]||"-"})}),a===u.length-1&&(0,k.jsx)(c.Z,{className:"actionContainer",alignItems:"center",justifyContent:"center",children:(0,k.jsx)(U.Z,{style:{color:v.O.primaryDark,fontSize:"16px"},"aria-label":"contentDuplicate",component:"label",onClick:function(){return i(e)},children:(0,k.jsx)(V.Z,{fontSize:"16px",style:{color:v.O.primaryHover}})})})]})},a)}))},t)}))})]})})}function oe(e){var t=e.campaign;return(0,k.jsxs)(c.Z,{className:"campaignCardContainer",children:[(0,k.jsx)(l.Z,{className:"fs-16 ff-Roboto fw-regular",style:{color:v.O.primaryHover,marginBottom:"9px"},children:null===t||void 0===t?void 0:t.title}),(0,k.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",children:[(0,k.jsx)(c.Z,{flex:1,children:(0,k.jsx)($,{campaign:t})}),(0,k.jsx)(c.Z,{flex:1,children:(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-regular",style:{color:v.O.black},children:null===t||void 0===t?void 0:t.product})})]}),(0,k.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",style:{marginTop:"6px"},children:[(0,k.jsxs)(c.Z,{flex:1,direction:"row",children:[(0,k.jsx)("div",{className:"status-circle"}),(0,k.jsx)(l.Z,{className:"fs-10 ff-Roboto fw-medium",style:{color:v.O.black,textTransform:"uppercase"},children:"Active"})]}),(0,k.jsx)(c.Z,{flex:1})]})]})}function re(e){var t=e.ecoInitiatives;return(0,k.jsx)(c.Z,{children:t.map((function(e,t){return(0,k.jsx)(oe,{campaign:e},t)}))})}var se=n(55705),ce=n(81724),le=n(29823),de=n(5397),ue=n(90503),me=n(17198),pe=n(96015);function fe(){var e=(0,se.u6)(),t=e.values,n=e.touched,i=e.errors,a=e.handleChange,o=e.handleBlur,r=(e.isValid,e.dirty);e.setFieldValue;return(0,k.jsxs)(f.Fragment,{children:[(0,k.jsxs)(c.Z,{sx:{mb:"22px"},children:[(0,k.jsx)(l.Z,{style:{color:v.O.blackMain},className:"fs-14 ff-Roboto fw-medium mb-7",children:"Name*"}),(0,k.jsx)(me.Z,{fullWidth:!0,autoComplete:"off",id:"title",name:"title",value:t.title||"",onChange:a,onBlur:o,error:n.title&&Boolean(i.title),helperText:(n.title||r.title)&&i.title})]}),(0,k.jsxs)(c.Z,{sx:{mb:"22px"},children:[(0,k.jsx)(l.Z,{style:{color:v.O.blackMain},className:"fs-14 ff-Roboto fw-medium mb-7",children:"Short Description (30 chars)"}),(0,k.jsx)(me.Z,{fullWidth:!0,autoComplete:"off",id:"shortDescription",name:"shortDescription",value:t.shortDescription||"",onChange:a,onBlur:o,max:30,error:n.shortDescription&&Boolean(i.shortDescription),helperText:(n.shortDescription||r.shortDescription)&&i.shortDescription})]}),(0,k.jsxs)(c.Z,{sx:{mb:"22px"},children:[(0,k.jsx)(l.Z,{style:{color:v.O.blackMain},className:"fs-14 ff-Roboto fw-medium mb-7",children:"Detailed Description (500 chars)"}),(0,k.jsx)(pe.Z,{style:{padding:"16px",backgroundColor:"rgba(73, 96, 115, 0.11)",minHeight:"176px"},children:(0,k.jsx)(l.Z,{children:null===t||void 0===t?void 0:t.detailedDescription})})]})]})}var he=n(60277),xe=n(18956),ge=n(38254),ve=n(26759),be=n(42419),Ze=n(5130),je=n(36571),ye=n(40611),we=n(69783);function Ne(){var e=(0,he.ZP)(xe.Z)((function(e){return{width:28,height:16,padding:0,display:"flex","&:active":{"& .MuiSwitch-thumb":{width:15},"& .MuiSwitch-switchBase.Mui-checked":{transform:"translateX(9px)"}},"& .MuiSwitch-switchBase":{padding:2,"&.Mui-checked":{transform:"translateX(12px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"#8AC865"}}},"& .MuiSwitch-thumb":{boxShadow:"0 2px 4px 0 rgb(0 35 11 / 20%)",width:12,height:12,borderRadius:6,transition:e.theme.transitions.create(["width"],{duration:200})},"& .MuiSwitch-track":{borderRadius:8,opacity:1,backgroundColor:"#8C8C8C",boxSizing:"border-box"}}})),t=(0,s.Z)("(max-width:1000px)"),n=(0,se.u6)(),a=n.values,o=n.touched,r=n.errors,d=n.handleChange,u=n.handleBlur,m=n.dirty,p=n.setFieldValue;return(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"Schedule"}),(0,k.jsxs)(c.Z,{direction:t?"column":"row",justifyContent:"space-between",alignItems:"flex-start",className:"datepickerSetting",children:[(0,k.jsx)(je._,{dateAdapter:we.Z,children:(0,k.jsx)(ye.M,{label:"Start Date",id:"startDate",name:"startDate",value:a.startDate,onChange:function(e){p("startDate",e.toDate())},PopperProps:{placement:"bottom-start"},disablePast:!0,components:{OpenPickerIcon:ve.Z},renderInput:function(e){return(0,k.jsx)(me.Z,(0,i.Z)({style:{width:t?"100%":"240px"},error:o.startDate&&Boolean(r.startDate),helperText:(o.startDate||m.startDate)&&r.startDate},e))}})}),(0,k.jsx)(je._,{dateAdapter:we.Z,children:(0,k.jsx)(ye.M,{className:t?"mt-14":"",label:"End Date",id:"endDate",name:"endDate",value:a.endDate,onChange:function(e){p("endDate",e.toDate())},PopperProps:{placement:"bottom-end"},minDate:_()(a.startDate).add(1,"d"),disabled:null==a.startDate,components:{OpenPickerIcon:ve.Z},renderInput:function(e){return(0,k.jsx)(me.Z,(0,i.Z)({fullWidth:!0,style:{width:t?"100%":"240px"},error:o.endDate&&Boolean(r.endDate),helperText:(o.endDate||m.endDate)&&r.endDate},e))}})})]}),(0,k.jsxs)(c.Z,{className:"mt-14",children:[(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"Eco Points"}),(0,k.jsx)(me.Z,{fullWidth:!0,id:"ecoPoints",name:"ecoPoints",value:a.ecoPoints,onChange:d,onBlur:u,disabled:"fixed"===(null===a||void 0===a?void 0:a.ecoPointsType),InputProps:{classes:{disabled:"disabled-input"}}}),(0,k.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",className:"mt-6",children:[(0,k.jsxs)(c.Z,{direction:"row",alignItems:"center",children:["flexible"===(null===a||void 0===a?void 0:a.ecoPointsRedemption)&&(0,k.jsx)(e,{onChange:function(e){p("ecoRedemptionType","onetime"===(null===a||void 0===a?void 0:a.ecoRedemptionType)?"peritem":"onetime")},checked:"onetime"===(null===a||void 0===a?void 0:a.ecoRedemptionType),inputProps:{"aria-label":"Switch ecoRedemptionType"},sx:{mr:"12px"}}),(0,k.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-medium",color:v.O.blackMain,children:"peritem"===(null===a||void 0===a?void 0:a.ecoRedemptionType)?"One Time Per Item":"One Time Per Cart"})]}),(0,k.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-medium capitalize",color:v.O.blackMain,children:null===a||void 0===a?void 0:a.ecoPointsType})]})]}),(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mt-14 mb-7",color:v.O.blackMain,children:"Item SKUs"}),(0,k.jsx)(se.F2,{name:"SKUid",children:function(e){var t=e.push,n=e.remove;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{style:{height:"185px",overflowY:"scroll"},children:a.SKUid.map((function(e,t){var i="SKUid[".concat(t,"].skuid");return(0,k.jsx)(c.Z,{style:{marginBottom:"8px"},children:(0,k.jsx)(me.Z,{fullWidth:!0,id:i,name:i,value:e.skuid,onChange:d,autoComplete:"off",InputProps:{endAdornment:(0,k.jsx)(ge.Z,{position:"end",children:a.SKUid.length>1&&(0,k.jsx)(U.Z,{onClick:function(){return n(t)},style:{transform:"scale(1.143)",background:"rgb(237, 237, 237)",borderRadius:"4px"},children:(0,k.jsx)(Ze.Z,{})})})}})},t)}))}),(0,k.jsx)("div",{style:{textAlign:"center",marginBottom:"60px"},children:(0,k.jsx)(Z.Z,{type:"button",sx:j.B9,onClick:function(){t({sku:""})},variant:"contained",endIcon:(0,k.jsx)(be.Z,{}),children:"ADD"})})]})}})]})}var Ce=n(57831),ke=n(69596);function Se(e){var t=e.handleFile,n=e.id,s=e.name,d=e.url,u=(0,f.useState)(""),m=(0,r.Z)(u,2),p=m[0],h=m[1],x=(0,f.useState)(null),g=(0,r.Z)(x,2),b=g[0],Z=g[1],j=(0,f.useState)(null),y=(0,r.Z)(j,2),w=y[0],N=y[1],C=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n[0].size>1e6)){e.next=6;break}return t(!0,null),h("File size should be less than or equal to 1MB"),Z(null),N(null),e.abrupt("return");case 6:(i=new Image).src=URL.createObjectURL(n[0]),i.addEventListener("load",(function(){if(i.width<=300&&i.height<=300){console.log("yeah size and dimension"),t(n[0]),Z(n[0]);var e=URL.createObjectURL(n[0]);N(e),h(!1)}else t(!0,null),h("Image dimensions should be 300 x 300 "),Z(null),N(null)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=(0,Ce.uI)({accept:{"image/*":[".jpeg",".png"]},onDrop:C,maxFiles:1}),I=S.getRootProps,R=S.getInputProps,D=S.isDragActive,B=S.isDragReject;return(0,k.jsxs)("div",{className:"drop-zone-container flex-center",style:{border:D?"1px solid #106AA5":"",flexDirection:"column"},children:[!Boolean(p)&&(b||d)&&(0,k.jsx)(U.Z,{className:"cancelButton",onClick:function(){t(null),N(null),h(!1),Z(null)},children:(0,k.jsx)(Ze.Z,{style:{transform:"scale(1.143)",color:"rgb(6, 29, 48)"}})}),!Boolean(p)&&!(b||d)&&(0,k.jsx)("div",(0,i.Z)((0,i.Z)({className:"dropZone"},I({className:"dropzone"})),{},{children:(0,k.jsxs)(c.Z,{justifyContent:"center",alignItems:"center",className:"imgContainer",children:[(0,k.jsx)("input",(0,i.Z)({id:n,name:s},R())),(0,k.jsx)("div",{style:{height:"64px",width:"96px"},className:"flex-center",children:(0,k.jsx)(ke.Z,{style:{color:"rgb(178,215,135)",transform:"scale(4)",height:"100%"}})}),B?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium",color:v.O.blackMain,children:"Images only supported"})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium",color:v.O.blackMain,children:"Drop File Here"}),(0,k.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-light mt-6",color:v.O.blackMain,children:"File dimensions should be 300x300 upto 1 MN"})]})]})})),Boolean(p)&&!(b||d)&&(0,k.jsx)("div",(0,i.Z)((0,i.Z)({className:"dropZone"},I({className:"dropzone"})),{},{children:(0,k.jsxs)(c.Z,{justifyContent:"center",alignItems:"center",className:"imgContainer",children:[(0,k.jsx)("input",(0,i.Z)({id:n,name:s},R())),(0,k.jsx)("div",{style:{height:"64px",width:"96px"},className:"flex-center",children:(0,k.jsx)(ke.Z,{style:{color:"rgb(178,215,135)",transform:"scale(4)",height:"100%"}})}),(0,k.jsx)(l.Z,{className:"fs-12 ff-Roboto fw-light mt-6",color:v.O.blackMain,children:"File dimensions should be 300x300 upto 1 MN"}),(0,k.jsx)(l.Z,{className:"fs-10 ff-Roboto fw-regular",color:v.O.dangerDark,children:p})]})})),!Boolean(p)&&(b||d)&&(0,k.jsxs)("div",{style:{width:"300px"},children:[(0,k.jsx)("img",{alt:"",src:w||d,style:{width:"270px",height:"100px",objectFit:"contain"}}),(0,k.jsx)(l.Z,{style:{textAlign:"center"},className:"fs-14 ff-Roboto fw-medium ellipseStyle",color:v.O.blackMain,children:(null===b||void 0===b?void 0:b.name)||""})]})]})}var Ie=n(91411),Re=n(34175);function De(){var e=(0,s.Z)("(max-width:1000px)"),t=(0,p.I0)(),n=(0,p.v9)((function(e){return e.app})).citiesList,d=(0,p.v9)((function(e){return e.auth})).user,m=(0,f.useState)(null),h=(0,r.Z)(m,2),x=h[0],g=h[1],b=(0,se.u6)(),y=b.values,w=b.touched,N=b.errors,C=b.handleChange,S=b.handleBlur,I=b.dirty,R=b.setFieldValue,D=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var i,o,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,Ie.K4)(!0)),i=x.name.split(".")[1],o="enterprise/".concat(null===d||void 0===d?void 0:d.enterpriseId,"/").concat(Date.now(),".").concat(i),e.next=5,Re.R.post("/s3",{fileName:o,contentType:x.type});case 5:(r=e.sent).ok&&(s=r.data,fetch(s,{method:"PUT",body:x}).then((function(e){e.ok&&R("brandLogo",o),t((0,Ie.K4)(!1))})).catch((function(e){t((0,Ie.K4)(!1)),console.log("There has been a problem with fetching signed url: "+e.message)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,k.jsxs)(c.Z,{className:e?"mt-14":"",children:[(0,k.jsx)(Se,{url:y.brandLogo?G.Z.s3Path+y.brandLogo:null,id:"brandLogo",handleFile:function(e){return function(e){e?g(e):(R("brandLogo",""),g(null))}(e)}}),(0,k.jsx)(Z.Z,{disabled:!x,onClick:D,sx:(0,i.Z)((0,i.Z)({},j.A9),{},{marginTop:"8px",width:"100%"}),variant:"contained",children:"Upload"}),w.brandLogo&&Boolean(N.brandLogo)&&(0,k.jsx)(l.Z,{className:"err-msg",children:(w.brandLogo||I.brandLogo)&&N.brandLogo}),(0,k.jsxs)(c.Z,{className:"mt-16",direction:e?"column":"row",justifyContent:"space-between",alignItems:"flex-start",spacing:"8px",children:[(0,k.jsxs)(c.Z,{flex:1,style:e?{width:"100%"}:{},children:[(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"Brand"}),(0,k.jsx)(me.Z,{fullWidth:!0,id:"brandName",name:"brandName",value:y.brandName||"",onChange:C,onBlur:S,error:w.brandName&&Boolean(N.brandName),helperText:(w.brandName||I.brandName)&&N.brandName})]}),(0,k.jsxs)(c.Z,{flex:1,style:e?{width:"100%"}:{},children:[(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"Sub Brand"}),(0,k.jsx)(me.Z,{fullWidth:!0,id:"subBrandName",name:"subBrandName",value:y.subBrandName||"",onChange:C,onBlur:S,error:w.subBrandName&&Boolean(N.subBrandName),helperText:(w.subBrandName||I.subBrandName)&&N.subBrandName})]})]}),(0,k.jsxs)(c.Z,{className:"mt-16",children:[(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"Product"}),(0,k.jsx)(me.Z,{fullWidth:!0,id:"product",name:"product",value:y.product||"",onChange:C,onBlur:S,error:w.product&&Boolean(N.product),helperText:(w.product||I.product)&&N.product})]}),(0,k.jsxs)(c.Z,{className:"mt-16",children:[(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"City"}),(0,k.jsx)(me.Z,{fullWidth:!0,id:"cityId",name:"cityId",value:y.cityId||"",onChange:function(e){C(e)},onBlur:S,error:w.cityId&&Boolean(N.cityId),helperText:(w.cityId||I.cityId)&&N.cityId,select:!0,children:n.map((function(e){return(0,k.jsxs)(u.Z,{value:e.cityId,children:[" ",e.cityName," "]},e.cityId)}))})]}),(0,k.jsxs)(c.Z,{className:"mt-16",children:[(0,k.jsx)(l.Z,{className:"fs-14 ff-Roboto fw-medium mb-7",color:v.O.blackMain,children:"Country"}),(0,k.jsx)(me.Z,{fullWidth:!0,id:"country",name:"country",value:y.country||"",onChange:C,onBlur:S,error:w.country&&Boolean(N.country),helperText:(w.country||I.country)&&N.country})]})]})}var Be=n(58901);function Pe(e){var t,n,c=e.open,d=e.handleClose,u=e.template,m=(0,s.Z)("(max-width:1000px)"),h={"& .MuiDialog-container":{alignItems:"end"},"& .MuiPaper-root":{width:"696px",maxWidth:"696px",height:m?"620px":"656px",margin:m?"0":"8px",padding:"0 16px 23px 16px",borderRadius:m?"16px 16px 0 0":"4px"}},x=(0,p.I0)(),g=(0,p.v9)((function(e){return e.auth})).user,b=(0,f.useRef)(),y=(0,f.useState)(0),w=(0,r.Z)(y,2),N=w[0],C=w[1],S=(0,f.useState)(!1),D=(0,r.Z)(S,2),B=D[0],P=D[1],M=(0,f.useState)(!1),E=(0,r.Z)(M,2),A=E[0],L=E[1],z=(0,i.Z)((0,i.Z)((0,i.Z)({},{ecoInitiativeScheduleId:null,ecoInitiativeTemplateId:"",title:"",shortDescription:"",startDate:null,endDate:null,ecoPoints:"",ecoPointsType:"",ecoPointsRedemption:"",ecoRedemptionType:"",SKUid:[{skuid:""}],brandLogo:"",brandName:"",subBrandName:"",product:"",country:"",cityId:"",detailedDescription:""}),u),{},{ecoPoints:null!==u&&void 0!==u&&u.ecoPoints?null===u||void 0===u?void 0:u.ecoPoints:null===u||void 0===u?void 0:u.defaultPoints,ecoPointsType:null!==u&&void 0!==u&&u.ecoPointsType?null===u||void 0===u?void 0:u.ecoPointsType:null===u||void 0===u?void 0:u.pointsType,ecoRedemptionType:null!==u&&void 0!==u&&u.ecoRedemptionType?null===u||void 0===u?void 0:u.ecoRedemptionType:null===u||void 0===u?void 0:u.pointsRedemption,ecoPointsRedemption:null!==u&&void 0!==u&&u.ecoPointsRedemption?null===u||void 0===u?void 0:u.ecoPointsRedemption:null===u||void 0===u?void 0:u.pointsRedemption}),K=function(e){var t=e.label,n=e.isActive,i=void 0!==n&&n,a=e.onMenuChange;return(0,k.jsxs)(O.Z,{onClick:function(){i||a()},className:"sideToggleBtn ".concat(i?"btn-active":""),direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,k.jsx)(l.Z,{style:{color:v.O.blackMain},className:"fs-14 ff-Roboto fw-medium",children:t}),(0,k.jsx)(de.Z,{className:"arrow",style:{color:v.O.blackMain}})]})},W=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x((0,Ie.K4)(!0)),e.next=3,Re.R.post("/ecoinitiative/".concat(g.enterpriseId),t);case 3:(n=e.sent).ok?(x((0,Ie.K4)(!1)),"success"===(i=n.data).status?("1"===t.isScheduleStatus?d(!0):(null===b||void 0===b||null===(o=b.current)||void 0===o||o.setFieldValue("ecoInitiativeScheduleId",i.data),P(!0)),(0,Be.k)(i.message)):(0,Be.k)(i.message,5e3,"error")):(x((0,Ie.K4)(!1)),(0,Be.k)("Something Went Wrong!",5e3,"error"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){var i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x((0,Ie.K4)(!0)),e.next=3,Re.R.put("/ecoinitiative/".concat(g.enterpriseId,"/").concat(t),n);case 3:(i=e.sent).ok?(x((0,Ie.K4)(!1)),"success"===(o=i.data).status?((0,Be.k)(o.message),"1"===n.isScheduleStatus?d(!0):P(!0)):(0,Be.k)(o.message,5e3,"error")):(x((0,Ie.K4)(!1)),(0,Be.k)("Something Went Wrong!",5e3,"error"));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x((0,Ie.K4)(!0)),e.next=3,Re.R.delete("/ecoinitiative/".concat(g.enterpriseId,"/").concat(null===(t=b.current)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.ecoInitiativeScheduleId),{updatedBy:g.name});case 3:(i=e.sent).ok?("success"===(o=i.data).status&&((0,Be.k)(o.message),d(!0)),x((0,Ie.K4)(!1))):((0,Be.k)("Something Went Wrong!",5e3,"error"),x((0,Ie.K4)(!1)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(I.Z,{sx:h,open:c,onClose:d,maxWidth:"md","aria-labelledby":"edit-eco-campaign","aria-describedby":"edit-eco-campaign-description",children:[(0,k.jsxs)(R.Z,{className:"fs-16 ff-Roboto fw-bold",sx:{borderBottom:1,borderBottomColor:"#474747",position:"sticky",top:"0",zIndex:2,background:"#FFf"},children:["EDIT Campaign",((null===b||void 0===b||null===(t=b.current)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.ecoInitiativeScheduleId)||(null===u||void 0===u?void 0:u.ecoInitiativeScheduleId))&&(0,k.jsx)(U.Z,{"aria-label":"delete",onClick:function(){return L(!0)},sx:{position:"absolute",right:40,top:8,color:v.O.black},children:(0,k.jsx)(ue.Z,{fontSize:"16px"})}),(0,k.jsx)(U.Z,{"aria-label":"close",onClick:function(){return d(B)},sx:{position:"absolute",right:8,top:8,color:v.O.black},children:(0,k.jsx)(le.Z,{fontSize:"16px"})})]}),(0,k.jsx)(O.Z,{children:(0,k.jsxs)(O.Z,{direction:"row",sx:{mt:"16px"},children:[!m&&(0,k.jsx)(O.Z,{flex:"30%",children:(0,k.jsx)("div",{style:{position:"sticky",top:"81px"},children:["Details","Settings","Additional Info"].map((function(e,t){return(0,k.jsx)(K,{label:e,isActive:t===N,onMenuChange:function(){return C(t)}},t)}))})}),(0,k.jsxs)(O.Z,{flex:m?"100%":"70%",className:m?"sideBodyContainerMobile":"sideBodyContainer",children:[(0,k.jsx)(se.J9,{innerRef:b,initialValues:z,enableReinitialize:!0,validationSchema:ce.Ry().shape(function(){var e={title:ce.Z_("Enter your campaign Name").min(3,"Name must minimum of 3 characters").max(30,"Name must maximum of 30 characters").required("Name is Required").trim(),shortDescription:ce.Z_("Enter your Description").max(30,"")},t={startDate:ce.Z_("Enter your StartDate").nullable().required("Start Date is Required"),endDate:ce.Z_("Enter your EndDate").nullable().required("End Date is Required"),ecoPoints:ce.Z_("Enter your Email").required("Eco Points is Required")},n={brandLogo:ce.Z_("Upload your brand logo").required("Brand logo is Required"),brandName:ce.Z_("Enter your brand name").required("Brand name is Required"),subBrandName:ce.Z_("Enter your Subbrand").required("SubBrand is Required"),product:ce.Z_("Enter your Product").required("Product is Required"),cityId:ce.Z_("Enter your Location").required("Location is Required"),country:ce.Z_("Enter your Country").required("Croduct is Required")};return 0!==N||m?1!==N||m?2===N||m?(0,i.Z)((0,i.Z)((0,i.Z)({},e),t),n):void 0:(0,i.Z)((0,i.Z)({},e),t):e}()),onSubmit:function(e){return function(e){var t={ecoInitiativeTemplateId:e.ecoInitiativeTemplateId,title:e.title,shortDescription:e.shortDescription,startDate:e.startDate||null,endDate:e.endDate||null,ecoPoints:parseInt(e.ecoPoints),ecoPointsType:e.ecoPointsType,ecoRedemptionType:e.ecoRedemptionType,ecoPointsRedemption:e.ecoPointsRedemption,brandLogo:e.brandLogo||null,brandName:e.brandName||null,subBrandName:e.subBrandName||null,product:e.product||null,country:e.country||null,cityId:e.cityId||null,detailedDescription:e.detailedDescription,enterpriseId:g.enterpriseId,createdBy:g.name,updatedBy:g.name,SKUid:e.SKUid.filter((function(e){return e.skuid})),isScheduleStatus:2===N||m?"1":"0"};e.ecoInitiativeScheduleId?F(e.ecoInitiativeScheduleId,t):W(t)}(e)},children:function(e){return(0,k.jsx)(se.l0,{noValidate:!0,autoComplete:"off",children:(0,k.jsxs)(k.Fragment,{children:[(0===N||m)&&(0,k.jsx)(fe,{}),(1===N||m)&&(0,k.jsx)(Ne,{}),(2===N||m)&&(0,k.jsx)(De,{})]})})}}),(0,k.jsx)(O.Z,{direction:"row",justifyContent:"flex-end",flexGrow:1,alignItems:"flex-end",sx:{mt:"16px"},children:(0,k.jsx)(Z.Z,{sx:(0,i.Z)((0,i.Z)({},j.mK),{},{width:2===N||m?"100%":"160px"}),onClick:function(){var e;return null===b||void 0===b||null===(e=b.current)||void 0===e?void 0:e.handleSubmit()},variant:"contained",children:2===N||m?"CREATE":"SAVE"})})]})]})}),(0,k.jsx)(T,{open:A,handleClose:function(e){L(!1),e&&q()},type:"delete"})]})}var Te=n(32572),Me=n(6924),Oe=["all","refuse","reuse","recycle"];function Ee(){var e=(0,s.Z)("(max-width:600px)"),t=(0,p.I0)(),n=(0,f.useState)([]),b=(0,r.Z)(n,2),Z=b[0],j=b[1],y=(0,f.useState)([]),w=(0,r.Z)(y,2),N=w[0],C=w[1],I=(0,f.useState)({}),R=(0,r.Z)(I,2),D=R[0],B=R[1],P=(0,f.useState)(!0),O=(0,r.Z)(P,2),E=O[0],L=O[1],z=(0,f.useRef)(null),K=(0,f.useState)(!1),W=(0,r.Z)(K,2),F=W[0],q=W[1],U=(0,f.useState)("all"),Y=(0,r.Z)(U,2),_=Y[0],H=Y[1],V=(0,f.useState)(!1),X=(0,r.Z)(V,2),G=X[0],$=X[1],J=(0,f.useState)(!1),Q=(0,r.Z)(J,2),ee=Q[0],te=Q[1],ne=(0,f.useState)(0),ie=(0,r.Z)(ne,2),oe=ie[0],se=ie[1],ce=(0,f.useState)(1),le=(0,r.Z)(ce,2),de=le[0],ue=le[1],me=(0,f.useState)(10),pe=(0,r.Z)(me,2),fe=pe[0],he=pe[1],xe=(0,f.useState)(20),ge=(0,r.Z)(xe,2),ve=ge[0],be=ge[1],Ze=(0,f.useState)(0),je=(0,r.Z)(Ze,2),ye=je[0],we=je[1],Ne=Me.$B.source(),Ce=Me.$B.source(),ke=(0,p.v9)((function(e){return e.auth})).user;(0,f.useEffect)((function(){Se()}),[_]),(0,f.useEffect)((function(){Ce.cancel(),Ce=Me.$B.source(),De()}),[oe,fe,de]);var Se=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ne.cancel(),Ne=Me.$B.source(),e.next=4,Re.R.get("/ecoinitiativeTemplates/".concat(ke.enterpriseId),{filter:"all"===_?null:_},{cancelToken:Ne.token});case 4:(t=e.sent).ok&&("success"===(n=t.data).status?j(n.data):j([]));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n,i,o,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,Ie.K4)(!0)),e.next=3,Re.R.get("/ecoinitiative/".concat(ke.enterpriseId),{page:de,limit:fe},{cancelToken:Ce.token});case 3:(n=e.sent).ok?("success"===(i=n.data).status?(be((null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.length)||0),C(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.campaignList)):(C([]),be(0)),t((0,Ie.K4)(!1))):t((0,Ie.K4)(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,Ie.K4)(!0)),e.next=3,Re.R.put("/ecoinitiative/".concat(ke.enterpriseId,"/").concat(D.ecoInitiativeScheduleId,"/cancel"),{},{params:{updatedBy:ke.name}});case 3:(n=e.sent).ok?("success"===n.data.status&&(De(),B({})),t((0,Ie.K4)(!1))):(0,Be.k)("Something Went Wrong!",5e3,"error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,Ie.K4)(!0)),e.next=3,Re.R.put("/ecoinitiative/".concat(ke.enterpriseId,"/").concat(D.ecoInitiativeScheduleId,"/pauseAndResume"),{isActiveStatus:"running"===D.campaignStatus?"0":"1",updatedBy:ke.name});case 3:(n=e.sent).ok?("success"===n.data.status&&(De(),B({})),t((0,Ie.K4)(!1))):(0,Be.k)("Something Went Wrong!",5e3,"error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(e){B(e),te(!0)},ze=function(e,t){ue(t+1),se(t)},Ke=function(e){he(parseInt(e.target.value,10)),ue(1),se(0)};return(0,k.jsxs)("div",{className:"ecoInitoativesContainer innerPadding ",style:e?{}:{padding:"14px 0px 16px 0px"},children:[(0,k.jsx)("header",{className:e?"headerMobile":"",style:{marginBottom:e?"12px":"10px"},children:(0,k.jsx)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",className:"horizontal-padding",children:(0,k.jsx)(l.Z,{className:"ff-Roboto fw-bold text-upper",style:{color:v.O.blackMain},children:"ECO-INITIATIVES"})})}),(0,k.jsxs)("div",{className:e?"":"ecoInitoativesContainerBody",children:[!e&&(0,k.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:13},className:"horizontal-padding ",children:[(0,k.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",sx:{width:189},alignItems:"center",className:"cursor-pointer",id:"template-filter-button","aria-controls":F?"template-filter-menu":void 0,"aria-haspopup":"true","aria-expanded":F?"true":void 0,ref:z,onClick:function(e){q((function(e){return!e}))},children:[(0,k.jsx)(l.Z,{className:"ff-Roboto fw-bold",style:{color:v.O.deactive},children:"Templates"}),(0,k.jsx)(g.Z,{style:{color:v.O.philippineGray}})]}),(0,k.jsxs)(c.Z,{className:"cursor-pointer",direction:"row",alignItems:"center",onClick:function(){L(!E)},children:[E?(0,k.jsx)(h.Z,{fontSize:"10px",style:{color:v.O.secondarymain,marginRight:"8px"}}):(0,k.jsx)(x.Z,{fontSize:"10px",style:{color:v.O.secondarymain,marginRight:"8px"}}),(0,k.jsx)(l.Z,{className:"fs-12 ff-Roboto",style:{color:v.O.secondarymain},children:"Hide Templates"})]}),(0,k.jsx)(d.Z,{id:"template-filter-menu","aria-labelledby":"template-filter-button",anchorEl:z.current,open:F,onClose:function(e){z.current&&z.current.contains(e.target)||q((function(e){return!e}))},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Oe.map((function(e,t){return(0,k.jsx)(u.Z,{disabled:_===e,selected:_===e,onClick:function(t){return n=e,q(!1),H(n),void L(!0);var n},style:{textTransform:"capitalize"},sx:{width:189},children:e},e)}))})]}),!e&&(0,k.jsx)("div",{style:{height:E?"166px":0,opacity:E?1:0},className:"ecoTemplate-container",children:(0,k.jsx)(Te.Z,{children:Z.map((function(e,t){return(0,k.jsx)(S,{template:e,itemId:t,actNow:function(){return Le(e)}},t)}))})}),0===ye&&e&&(0,k.jsx)(c.Z,{sx:{pb:"57px"},children:Z.map((function(e,t){return(0,k.jsx)(S,{template:e,itemId:t,actNow:function(){return Le(e)}},t)}))}),!e&&(0,k.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",style:{marginBottom:8},className:"horizontal-padding ",children:[(0,k.jsx)(l.Z,{className:"ff-Roboto fw-bold",style:{color:v.O.deactive},children:"Campaigns"}),ve>0&&(0,k.jsx)(m.Z,{rowsPerPageOptions:[],count:ve||1,rowsPerPage:fe||10,page:oe||0,onPageChange:ze,onRowsPerPageChange:Ke,ActionsComponent:M.Z})]}),(0,k.jsxs)("div",{className:e?"":"horizontal-padding",children:[!e&&(0,k.jsx)(ae,{ecoInitiatives:N,onStatus:function(e){B(e),$(!0)},onDuplicate:function(e){var t=(0,i.Z)((0,i.Z)({},e),{},{isScheduleStatus:"0",ecoInitiativeScheduleId:null});B(t),te(!0)}}),e&&1===ye&&(0,k.jsxs)(c.Z,{sx:{pb:"60px"},children:[(0,k.jsx)(re,{ecoInitiatives:N}),(0,k.jsx)(c.Z,{direction:"row",justifyContent:"flex-end",children:(0,k.jsx)(m.Z,{rowsPerPageOptions:[],count:ve||1,rowsPerPage:fe||10,page:oe||0,onPageChange:ze,onRowsPerPageChange:Ke,ActionsComponent:M.Z})})]})]})]}),e&&(0,k.jsx)(A,{onTabChange:function(e){return we(e)}}),(0,k.jsx)(T,{open:G,handleClose:function(e){$(!1),e?("draft"===D.campaignStatus&&te(!0),"scheduled"===D.campaignStatus&&Ee(),"running"!==D.campaignStatus&&"paused"!==D.campaignStatus||Ae()):B({})},type:D.campaignStatus}),ee&&(0,k.jsx)(Pe,{open:ee,handleClose:function(e){te(!1),B({}),e&&De()},template:D})]})}}}]);
//# sourceMappingURL=72.953498d1.chunk.js.map